<!-- Developed by Taipei Urban Intelligence Center 2023 -->

<script setup>
import { computed, defineProps, ref } from 'vue';
import { useMapStore } from '../../store/mapStore';

const props = defineProps(['chart_config', 'activeChart', 'series', 'map_config']);
const mapStore = useMapStore();

const targetDistrict = ref(null);
const districtColor = ref(props.chart_config.color[0]);
const mousePosition = ref({ x: null, y: null });
const selectedIndex = ref(null);

// Parse District Data (to support 2D or 3D data)
const districtData = computed(() => {
	let output = {};
	let highest = 0;
	let sum = 0;
	if (props.series.length === 1) {
		props.series[0].data.forEach((item) => {
			output[item.x] = item.y;
			if (item.y > highest) {
				highest = item.y;
			}
			sum += item.y;
		});
	} else {
		props.series.forEach((serie) => {
			for (let i = 0; i < 13; i++) {
				if (!output[props.chart_config.categories[i]]) {
					output[props.chart_config.categories[i]] = 0;
				}
				output[props.chart_config.categories[i]] += +serie.data[i];
			}
		});
		highest = Object.values(output).sort(function (a, b) { return b - a; })[0];
		sum = Object.values(output).reduce((partialSum, a) => partialSum + a, 0);
	}

	output.highest = highest;
	output.sum = sum;
	return output;
});
const tooltipPosition = computed(() => {
	return { 'left': `${mousePosition.value.x - 10}px`, 'top': `${mousePosition.value.y - 54}px` };
});

function toggleActive(e) {
	targetDistrict.value = e.target.dataset.name;
}
function toggleActiveToNull() {
	targetDistrict.value = null;
}
function updateMouseLocation(e) {
	mousePosition.value.x = e.pageX;
	mousePosition.value.y = e.pageY;
}

function handleDataSelection(index) {
	if (!props.chart_config.map_filter) {
		return;
	}
	if (index !== selectedIndex.value) {
		mapStore.addLayerFilter(`${props.map_config[0].index}-${props.map_config[0].type}`, props.chart_config.map_filter[0], props.chart_config.map_filter[1][index]);
		selectedIndex.value = index;
	} else {
		mapStore.clearLayerFilter(`${props.map_config[0].index}-${props.map_config[0].type}`);
		selectedIndex.value = null;
	}
}
</script>

<template>
	<div v-if="activeChart === 'DistrictChart'" class="districtchart">
		<div class="districtchart-title">
			<h5>總合</h5>
			<h6>{{ districtData.sum }} {{ chart_config.unit }}</h6>
			<div class="districtchart-title-legend">
				<p>多</p>
				<div :style="{ backgroundColor: props.chart_config.color[0] }"></div>
				<p>少</p>
			</div>
		</div>
		<div class="districtchart-chart">
			<svg viewBox="240 -0 390 700" xmlns="http://www.w3.org/2000/svg">
				<g>
					<path data-name="大園區"
						:class="{ 'active-district': targetDistrict === '大園區' || selectedIndex === 0, 'initial-animation-1': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(0)" :fill-opacity="districtData['大園區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M453.99143396757427,85.31140230855817L455.9215987947391,86.41672643654965L455.9555444040452,86.43871051501264L457.6284219092486,88.74401975619185L457.6791582115693,88.84075606439728L458.5548602332856,91.41930103906998L458.6429658436682,91.46669232372733L459.4197448237246,91.88471455821127L462.1562999832531,95.73190183900078L462.8597608179116,97.21435430897327L462.8718530306651,97.22367593045419L464.09648095050943,98.4820434278663L465.1320041456056,101.19777183895349L462.2876753187884,101.2584683144305L458.342335951922,102.24478083166105L454.1897535411845,103.94043504355795L451.996510241981,103.84822223571246L451.1913946910936,104.30729116640941L451.81050141510786,106.0126210689159L450.46659037248173,106.38640590340219L449.8906076843123,107.2594320768585L447.6642200670467,105.60922492920145L447.17397553796764,102.02605874886649L447.57130670940387,100.62492534379635L447.00646925347974,98.95991019566281L447.54377142975864,97.06000547211443L448.58916507563845,95.84059785274803L448.7733892084798,93.22869547194568L447.77108317612146,95.34329202018489L447.00297271003365,94.63973224322763L445.94654309890757,95.79654714914795L443.55789401232323,93.60148792890686L442.294767692234,94.74344334697162L441.3580946941511,93.88448494156182L439.4473429675854,95.9813345167313L439.978016280249,97.14797566729249L438.877078584861,98.36051697162839L437.9209924861789,97.64939128195692L437.3195870133786,98.30753607250153L439.9414118410641,100.715927214369L440.7109063555836,102.17086192604256L440.084296632107,102.48140766732467L439.990654827925,107.10258446100488L438.528480487701,109.03285933323059L438.40857818535005,108.6381457586067L437.1145657314919,106.07747643701441L437.6576590578625,103.9530075400944L436.60887813553563,102.64745364385453L437.62203802150907,100.60060324798542L436.2217816381308,99.94295059117212L436.6766600871488,95.82360191430053L435.0681772570679,96.58277989319686L436.0549673778587,94.48876128705888L434.7775999277219,92.49108430496926L436.18077009728586,90.79358653575764L432.37478255569295,89.35027864595031L431.3372197102435,88.6179719013453L429.85341050745046,89.35170952009139L429.0465102624876,90.69026153073355L427.47816483739007,88.31406019446513L426.669006408134,88.52028145151417L425.7910097797576,91.05469523732972L425.76496781554306,95.19583407431492L423.2780877115001,94.68577790554264L421.3982585410413,97.09317314973669L421.01054286406725,96.63545821794105L421.0456539878505,94.27973420434137L419.6010716318269,92.21770891500273L419.79793431232974,90.06597328687349L419.44008494396985,88.69198763738677L417.72357349032245,86.84951269314115L417.00707346240233,89.50641724284651L415.94831282230734,91.57452583939812L414.5975908044493,90.5803458070186L414.59220029995777,90.52931191673633L413.7358021118416,89.79280800349079L412.83289261143364,87.70671094959835L411.90914953962783,87.8622017298876L411.76174837995495,87.92182236310691L410.71293103529024,88.1828085526904L409.8032105596358,87.48548521913835L407.3534083850536,87.56093270134079L405.41071427719726,87.01779626853386L402.6826455199771,88.4317399130814L402.63595209603955,87.02473400318559L399.8390087174048,85.58106767080244L399.8869040781574,85.48333086441198L401.79295732447645,82.91248000401538L401.8097115951532,82.87328016930041L405.0243462263461,77.73575604892903L406.5586731975054,74.20305757957613L402.79974330311234,72.18879536703753L401.68613063771045,70.59477269075796L402.3259616660944,68.12454193431404L400.3767479616363,67.0945633952033L399.7690050038218,66.01122899693655L399.7252982107311,65.9413598314568L398.8030848766939,64.49465367907396L398.72197235320345,64.39169156322896L397.63035877364746,62.628351116327394L398.65058459117427,61.33110025006317L397.56574556454143,59.19361355948786L397.6187400511699,56.36799363879982L399.18945292754506,54.89434179456657L398.6829276180506,52.954639839161246L397.18108936309,51.68341803191652L395.2457525654172,49.12825918024828L396.3705468853732,47.7169205090795L397.56483500637114,47.471487109116424L397.83661841467256,45.35547717269219L397.4451512379601,42.21699272828482L401.48781106410024,40.66482700864435L404.43175495682226,39.269852582780004L406.95698777177313,37.297307094806456L408.4358799603797,36.95814104802048L409.95061171927955,35.70116018370754L411.8363413068146,34.175746834989695L418.8385702041851,32.42653151438935L419.72053686623985,31.267804109276767L420.89989183293073,31.29032106976956L425.2138251547731,27.634696903794975L428.30455102758424,27.18867876231161L428.6700855070667,25.78132213029312L429.92516249274195,25.199187713158608L431.18333537626313,25.406972389799193L433.26669251319254,24.087625553442194L435.52844621053373,23.220330241725605L438.65759763892856,21.99584676657105L439.15177577936265,21.031730530641653L442.53471798625833,19.67301356981261L445.02644225987024,19.4728535515751L448.68801527266623,17.89906879717455L450.6418910350767,17.605961090714118L451.81902423975407,16.801960666514788L456.96353231949615,16.120015297208738L459.29223025489773,16.430570921253093L458.975137471105,12.319632681868825L459.32173234023503,10.445792025588162L460.6309693270159,11.272105376174295L461.0129302762216,13.316726019089401L462.46315809302905,14.086083957306982L465.7181850854977,13.295940687607072L465.9991833426757,15.118524249588518L468.76331020417274,18.4665367291891L469.93246691912645,27.513430497525405L469.93006304549635,27.51334372366182L469.9350164820644,27.529874144176574L470.81111914938083,29.213229176137247L470.84178674918076,29.258654504017613L471.86281385792245,31.194699876516097L471.8666382023366,31.2746589841081L472.0797816632403,32.07997331193474L472.1034561761626,32.187958340382465L472.53870299061236,33.66190530247695L472.80385753532755,34.31127838454995L475.7597479514661,36.55632885799059L476.9500660387275,38.65573830638823L477.1206682210468,38.87212769418693L477.2181707919517,38.99502867324554L478.1223186515126,41.91771035160127L479.61709097491985,43.479747022123775L482.26299096114235,44.24531296941859L483.4809535950335,45.182698059710674L483.4980356666638,45.21458175003136L483.7155498068896,47.48705987210269L482.17954740866844,50.02699241006121L479.7372118112544,51.02739230607767L478.24262159946375,50.66697536815991L478.08236335818947,51.613495370165765L477.16073278138356,53.686646593658224L475.96720952927717,54.10543564899854L475.68165848114586,55.122146598918334L475.8905405297555,56.2042990035261L472.0707853483327,59.43472395263234L471.9963381107955,59.51119039279001L470.19157535744307,60.72826966089269L468.47160378268745,59.71426207005425L466.6973265175038,60.36702061847609L466.1921124118235,61.256196613117936L467.673954808939,63.56113814326454L465.86758947318594,63.91617347654392L463.5596886867861,65.16143270702742L463.8094730092562,66.3695516513435L465.6658462007763,69.5778737717119L464.22508818913775,70.81425807486085L465.129163204052,71.57635993822623L462.7892471917439,72.76510223191508L461.87639439587656,72.273968780406L459.62309067853494,73.56760687970018L457.1788975423988,75.5249450260053L457.77727996202884,78.26242144779098L455.8092359142029,80.19499276938586L455.76035715060425,80.23120156110235L455.39871986016806,80.77003885398881L455.74382141388196,83.73289776313686L453.8441420748859,84.663881565888ZM416.2315692638076,52.61136341423844L416.05867247484275,53.520214863023284L416.2315692638076,52.61136341423844ZM473.46710812034144,55.167950395720254L473.64444843326055,55.0107600046249L473.46710812034144,55.167950395720254ZM411.07802844683465,50.47151944248253L411.4216731074557,50.174604408726736L411.07802844683465,50.47151944248253ZM459.573082822797,23.591043622684083L459.57304640045913,23.591043622684083L459.6231271008728,23.58384110535917ZM436.25565440276114,34.55405466483353L436.10978298085683,33.6041174857819L435.74326509852835,34.10667946935064ZM451.8823626673984,82.3596481580571L452.29506406107976,83.44085236838146L451.8823626673984,82.3596481580571ZM458.40949872396595,53.16653023962499L458.42723639748874,53.15013423302662L458.4909390484099,53.09378920553354Z" />
					<path data-name="觀音區"
						:class="{ 'active-district': targetDistrict === '觀音區' || selectedIndex === 1, 'initial-animation-2': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(1)" :fill-opacity="districtData['觀音區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M354.8462525157811,57.589448951086524L357.34205609008495,55.219956764256494L361.01703251941944,53.91315291916544L363.9473180392815,52.325602448941936L372.0438193461159,49.26663313775134L375.4679552054731,47.80831805112757L380.49441852155724,46.835040501999174L384.5463296188973,45.64065097584535L390.7264337383822,44.344522039202275L391.7711353600462,43.75833250618234L397.4451512379601,42.21699272828482L397.83661841467256,45.35547717269219L397.56483500637114,47.471487109116424L396.3705468853732,47.7169205090795L395.2457525654172,49.12825918024828L397.18108936309,51.68341803191652L398.6829276180506,52.954639839161246L399.18945292754506,54.89434179456657L397.6187400511699,56.36799363879982L397.56574556454143,59.19361355948786L398.65058459117427,61.33110025006317L397.63035877364746,62.628351116327394L398.72197235320345,64.39169156322896L398.8030848766939,64.49465367907396L399.7252982107311,65.9413598314568L399.7624854071764,66.00082018583998L399.7690050038218,66.01122899693655L400.3767479616363,67.0945633952033L402.3259616660944,68.12454193431404L401.68613063771045,70.59477269075796L402.79974330311234,72.18879536703753L406.5586731975054,74.20305757957613L405.0243462263461,77.73575604892903L401.8097115951532,82.87328016930041L401.79295732447645,82.91248000401538L399.8869040781574,85.48333086441198L399.85223002231214,85.55405346997577L399.8390087174048,85.58106767080244L402.63595209603955,87.02473400318559L402.6826455199771,88.4317399130814L401.6326262385119,89.73930220737748L402.50326555671927,92.68220815814493L401.910419330874,98.20738388632162L402.5978543414094,101.42061443090279L404.679171827971,105.08556617012073L404.8088717364444,108.29319818831209L405.8161312053562,110.86026950275482L405.94127832289087,112.61681270226109L406.74399000016274,115.03773081828331L407.2527734939649,116.8063807713952L406.35612863388087,117.60774858365039L407.1449269820296,119.54878570424626L405.7431772832351,121.2499957682885L405.6712431862834,121.43868017414206L403.78933794316254,124.6118880693466L403.7414425823954,124.65987031338591L402.768165145113,126.64207585873737L401.7542039679247,130.73981745011042L400.1604357581964,131.3571751056843L398.36463289742824,133.35840344010285L396.78801960397686,135.08195685404644L394.8079197657062,138.05381135830976L394.17158528076834,138.5740457706779L391.9104507629818,138.16098749772937L390.6826905229973,136.1727711016938L390.4188471820671,134.84532108746862L386.7393543841172,134.24718483377L385.16314173626597,133.01241494876012L384.0606743031094,132.56791136669563L382.54798219451914,130.1426966655854L381.10711491591064,127.16228339399458L380.4478343646042,126.78931367892801L379.1478122266999,124.6025690219576L379.59777366148774,123.64816390228225L378.8496590532304,122.18864620848399L378.1195370748028,121.19438299760805L377.9026421141316,117.56327407516073L378.42176954894967,115.63593952292649L379.3620847797865,115.88892003165165L379.8882781461725,114.84049454869455L379.2858528482029,112.71140158405615L377.6653870723385,111.25636144009331L374.26732959951914,114.1368130310475L372.2082661550812,114.66107422565256L371.4659791192389,114.18527718032055L369.42075615929207,115.1139809545275L368.59524410494487,116.80555716291929L366.54870994119847,118.85957211095229L365.55372479668586,120.56118410893396L364.68395961435454,120.3305821954491L363.1131738933036,118.81817579615745L361.5119026840839,115.64027435542812L360.9097687647154,112.9097258256661L360.67316932482936,112.4410297331633L358.5957126049907,112.89091213321808L356.86219192435965,112.76459153433825L353.9438529279432,109.01109702220492L353.34794722660445,109.55801452974993L352.32946968078613,107.97790196720962L351.11227191578655,108.04527044516362L350.17749287874904,107.10024344993508L347.7309687136294,109.06251155808059L345.5066935913637,106.86315076465326L343.695739042334,106.30876177921527L343.6118584219512,106.29072717774397L343.611020708413,106.29055376809265L341.606918556281,104.09490322671263L338.25646506558405,104.57269958312463L336.90734563012666,105.05673646193827L337.74261886825843,106.9914297262003L336.73288268108445,107.09144298189858L334.1146272414917,108.53999817444128L333.6963532316877,107.69364463567035L332.48137722865795,105.75159512444225L331.2869798407046,103.15547456754211L328.8356479283684,102.23407234843398L328.95657005588873,100.75646399022298L327.86309893763973,100.47214259664179L324.47622311935993,99.11312882936545L321.7961954122293,97.2070270802833L321.0700070451712,97.83114026699695L319.0956619346689,98.07189646039114L318.34517987511936,96.5426749770013L316.61074863630347,95.6811741013189L314.94759589253226,97.19280618523408L313.42747362915543,96.0909841080902L310.6373776480905,95.61592171679513L309.3333126318321,96.06514340866124L306.9067479022342,98.9132161846428L303.93428532705,103.0394597780105L303.00755562439736,103.69271318305618L298.37507262562576,103.79905937785588L301.34090633718006,99.96597219301839L302.58986437182466,98.02051958003358L304.9714111045614,93.19895179375817L312.21639481517195,84.88251189154835L313.53113157339976,83.69994242391112L316.05239435468684,81.84228425565016L318.10235221721814,78.77568443064956L322.0378939779621,74.68056446047558L326.1479351101152,71.98605285855592L327.89405791606987,71.2240842527608L332.29591473667824,70.06026021053185L334.9792932979617,69.64032436468551L336.7657720428542,69.55480173713295L342.1914240690967,66.75766800830752L346.00167302302725,64.59922040230958L347.4079390904226,64.24969561356556L348.3081533386285,61.67703547744168L349.86979705544945,58.960960340304155L352.74603184120497,59.080062895591254ZM350.0826855600899,91.98196810390436L349.9078583877417,91.78659374197377L350.0826855600899,91.98196810390436ZM351.37433056264126,93.41791014853152L351.24914702279784,93.2799881204628L351.37433056264126,93.41791014853152ZM348.9325048777973,89.06601124344525L349.0074256055959,88.99988730269615L348.9325048777973,89.06601124344525ZM346.7855179346225,90.30132842226158L347.0106079190009,90.11765780814676L346.7855179346225,90.30132842226158ZM336.79571119612956,96.0656636912936L336.77913903708395,96.0669210408887L336.79571119612956,96.0656636912936ZM347.25984590654843,77.70522714946856L347.15859183589055,77.73033543535712L347.25984590654843,77.70522714946856ZM349.9270893767243,75.36999863104938L349.7712382370373,75.55530113428176L349.9270893767243,75.36999863104938ZM358.23826388223097,72.89043302708524L358.03593785260455,72.99707249567291L358.23826388223097,72.89043302708524ZM358.74905060404853,72.653822230277L358.5948020467913,72.71882954183093L358.74905060404853,72.653822230277ZM365.42209450485825,89.14037352407104L365.4579340751807,89.1669531478583L365.42209450485825,89.14037352407104ZM365.8842209970462,103.70563253933506L365.7022186261893,103.51466000385699L365.8842209970462,103.70563253933506ZM376.8804494909127,63.45505233229051L376.9770779259561,63.34337152122316L376.8804494909127,63.45505233229051ZM378.83046448660025,73.46131495994268L378.3304951960599,72.26794072556004L378.83046448660025,73.46131495994268ZM377.2598608771805,73.38208382189987L377.2438714753953,73.35992337729476L377.2598608771805,73.38208382189987ZM351.22467121866066,88.36375105805928L351.03298050868034,88.19139389829434L351.22467121866066,88.36375105805928ZM373.1604186423647,93.54789747360701L373.1700705591793,93.61870103826732L373.1604186423647,93.54789747360701ZM392.489347237366,106.65397636694979L392.8852215157094,106.20198475200232L392.489347237366,106.65397636694979ZM389.0252196623187,110.96704151378435L388.88852666696766,111.21075697673587L389.06277108204085,110.90006517437723Z" />
					<path data-name="龜山區"
						:class="{ 'active-district': targetDistrict === '龜山區' || selectedIndex === 2, 'initial-animation-3': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(2)" :fill-opacity="districtData['龜山區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M526.4034282753128,103.05901235481724L527.1493575439235,101.24064956726215L525.1123296076839,99.08403725074459L525.1021313559468,99.05507573032446L525.4245782219077,96.42105942916896L522.4817269990453,96.30148150080277L521.9633644331043,95.45090453137527L521.9377595368132,95.41006208520412L521.5656690383621,93.73368626629963L523.1618775440584,92.1412243726918L522.2401377002825,91.86121413295768L522.7055422019475,90.07330104364155L521.5538682042388,88.55934897096085L521.4288667760266,88.53654151974115L517.7770185246918,88.40537689321354L517.6936113945849,88.35247739137412L515.5966687294713,88.03703100506391L514.8302336904308,86.3713273478279L512.5448419025197,84.9853226136729L510.5482427498646,84.28290341126194L508.3864683416905,85.14315919579167L506.1750867233641,85.12893656902816L505.29974892492464,83.05462263739173L504.2708910157671,79.59279742629224L501.95293766696705,75.28738647417777L500.1978549684427,70.85988113647181L498.7835031443101,69.61530076376584L500.1726142954285,69.75585785777366L500.24097900427296,69.7626666968099L500.2950297383941,69.76804437827741L500.33604127922445,69.77563384757741L501.46232891464024,70.21859763640168L502.61476778122596,70.4092440612003L502.7725857265759,70.48106163647753L505.905634344017,71.37235851223522L508.9041024610924,70.167206305734L509.3025991470204,68.77520667043791L511.889349273275,68.39473116964291L514.85678556723,68.62064002991247L518.6277712520387,66.26702518557795L519.5982077477674,66.17460381763158L520.693427137754,64.39164819248617L520.8744461057795,63.25190159022168L521.8280554861703,62.57812687572368L524.1548594605702,61.25181602808152L528.728156177036,59.357043010477355L529.7074068760412,59.158871754469146L532.7276555449935,58.347879186228965L532.9565334514482,58.2186697338002L535.5115233080433,56.9044885454241L538.6891164320987,56.657776720770926L543.6148355901387,57.040119063134625L546.0320033592143,57.40081639465279L550.3883322703623,57.37214629654045L553.4436920630978,57.14165749018139L559.5451239550457,56.45816870767521L563.5260115136189,57.89497307358033L564.4845014859166,59.09936391525844L566.474981687541,58.75402689978364L568.0790574159764,58.98884926176106L568.045075384347,60.15904917635635L570.074563898801,60.15276014784831L567.5767206741584,61.675951178847754L569.0505501592124,62.09813278235379L568.1600606724824,62.873009595692565L568.298939007509,63.811606031471456L566.1924172702566,62.871361481727945L566.1300258231204,63.87271576289277L567.3012221884273,65.68296058980195L565.8089994279435,67.0823331759384L564.8130308805848,65.54478307495447L566.5047751514794,67.3608955612508L568.7854320368497,66.6537107424665L571.2034375194489,65.35993890371901L570.0467372405255,66.5584706984373L571.4403283379506,66.23978886461555L574.0055528686062,67.4941697989816L574.7244203478331,68.22403064061655L577.1151819294319,68.33214968365792L576.4211544775899,69.9651535494886L575.1914638542366,68.54747666782714L575.5246188845049,70.68428427546314L574.1241439671867,69.75572775257388L572.4530875783239,69.8021319329855L572.5141313993372,71.46837454188062L573.698767603506,70.61277042383517L576.1826974990254,71.21532396489783L575.1627630600997,72.07395859182725L576.4993532148801,73.51994682862278L578.7074568237294,73.18762683551904L574.8915624090441,74.53741238054499L571.2258736732474,74.78772239514001L569.7847878606553,76.02846492775643L571.8848628459382,75.91215817245029L572.4883079690771,77.45310317950134L577.1485812038009,79.18309261807735L577.4804614525929,80.45760377775878L576.3009972189611,80.79935262874642L577.2341372512601,82.18081946919483L575.6984262316691,81.7018310458916L575.3296137426951,85.4582679056075L577.1032354059862,86.26084313670799L577.7064255728328,87.08660990275894L577.4662203225307,88.32680811472892L579.4636207663862,89.50424925512925L579.9840958273417,90.6397480081614L582.951131475711,92.97361929458566L584.441023207226,92.89761227675262L584.411666811211,93.74808108936486L585.469771849399,94.60157762927702L584.8087066040316,95.30231945800188L583.5213958584645,94.94648613415848L582.1221228779323,95.68169438593759L579.7396655870252,95.90541651980311L577.7928557561681,97.08146691184083L574.8598021393991,96.72442599167698L572.5285546410596,97.97607964094641L571.4531854195957,97.23633599173263L571.2016528254026,98.71252273361824L570.2308521063969,99.92482812114395L571.9366189733992,101.87960789521821L576.2477477760403,104.18564179184614L576.7036824725365,106.2199326647351L578.094869696346,107.76794958947721L578.0789167168841,108.96683541473976L578.9679128881835,110.35358857505344L574.2908489604597,111.98893444643909L574.0215786927292,113.4028687125683L572.4134236636164,115.05008516498492L569.5198882722616,115.08229315630888L567.8495603299671,112.7198114069397L564.8681378621986,113.49654651020683L564.641445295405,115.53953279873895L565.1329646059457,116.45279201717858L564.4669095017016,119.00547772779464L566.0580553038599,120.67904228594125L563.5264485815424,122.80037884128615L562.6697590148251,122.48989671865274L561.0456510062213,123.37764847846483L559.6398584290582,124.9027285965567L556.4157904150197,125.99941944183229L555.5573161542416,127.32997844299462L553.7694897832116,128.5250304324327L552.3600913956034,127.63338049960294L550.0636272200936,126.28293082171876L548.3458045626612,126.93139341724236L548.238140162357,127.7195898576174L542.9348307344189,127.6918503036286L541.7473535887257,125.26573625535457L538.9922230421362,126.14271393566014L538.0881844495598,126.8910840551689L536.214255696148,125.72682991976762L534.6698033179418,124.08551222635651L534.2295666446153,125.18481275260274L532.900515911635,125.87588953971863L531.9157290188596,125.3921709693168L530.225842286658,125.45944093316211L528.3072597596474,126.9792878530352L525.2551051317569,126.71614990272792L523.4093308375595,124.05642797244218L522.1504295074847,124.90238184233749L519.5067148609232,120.91397799157858L518.9466851522302,119.67717829865069L519.5779569336446,118.19848607021413L519.1179793587798,117.20361934935863L519.8728685199749,116.63849454323281L519.9435642577882,116.54377936272795L520.1543402674288,116.25620878225891L520.2432107466884,116.21130018702752L520.2799608752102,116.19274720933754L520.1393342684605,115.03395949110563L520.9077725355019,113.46091341113424L523.4461902330659,112.44965632758613L523.7709317056579,111.9643983885835L524.6140721665433,111.41732075197069L525.6318212657934,108.37179449157338L527.0152141114959,105.92318475311549L526.4638529167569,105.22707005982011ZM527.2068319768296,82.35648266758653L527.3420680790878,82.07258545990044L527.2068319768296,82.35648266758653ZM538.3495874945074,63.666009450484125L537.932952489442,63.1300282933189L538.3495874945074,63.666009450484125ZM530.3484762635635,78.02773153949602L530.5506566039112,77.97539023685749L530.3484762635635,78.02773153949602ZM530.0177615292487,81.43059404282758L530.0612862107082,81.49811066121765L530.0177615292487,81.43059404282758ZM532.4560906706611,121.67248709311025L532.351157944926,121.84734344620301L532.3305793298496,121.88162981941787ZM529.356550594588,81.01716757971735L529.2976192685746,81.00606653068826L529.4153362312791,81.02822526402815ZM539.2042374109005,62.02166834156742L539.08040149718,62.068726725330635L539.2042374109005,62.02166834156742ZM557.9638121813332,109.92801447784586L557.5855663095281,109.47339337516678L557.9638121813332,109.92801447784586ZM525.4105920481234,112.20910844645914L525.7195262305613,112.18071430773489L525.4105920481234,112.20910844645914ZM535.0750017121463,74.1202276164804L534.801542876754,74.05392022958404L534.8962045061053,74.0768611160347ZM534.7740075971087,109.69647747220733L534.7793981015857,109.68373230024372L534.7238540520484,109.81538898073995Z" />
					<path data-name="桃園區"
						:class="{ 'active-district': targetDistrict === '桃園區' || selectedIndex === 6, 'initial-animation-4': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(6)" :fill-opacity="districtData['桃園區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M520.9077725355019,113.46091341113424L520.1393342684605,115.03395949110563L520.2799608752102,116.19274720933754L520.1543402674288,116.25620878225891L519.9435642577882,116.54377936272795L519.8728685199749,116.63849454323281L519.1179793587798,117.20361934935863L519.5779569336446,118.19848607021413L518.9466851522302,119.67717829865069L519.5067148609232,120.91397799157858L522.1504295074847,124.90238184233749L523.4093308375595,124.05642797244218L525.2551051317569,126.71614990272792L523.4924101667275,127.21204147892786L524.389419250103,128.9206617664713L523.5269749556028,130.1896793704036L520.7769799572125,131.74464698895827L521.0202446830226,132.9362219059076L520.5224607321434,133.6944657657259L519.4813649209536,133.19951672909883L518.196895116911,133.75215187203867L518.3721229348303,132.9556819093159L517.3560492626711,131.95987959864578L516.8561163944541,133.46736161045555L515.8106863262656,132.60934528705184L513.357678986853,132.35658076743857L512.1020192439319,132.4527977900616L511.0087666596228,131.58337392016983L511.2774905924307,130.04140638591707L510.2330075047648,129.61491986392502L509.22399976413,131.35591820336776L508.5190820363641,131.1076146735686L507.1816177457222,131.57843300503737L505.31901633620146,130.51027939253618L505.199004766866,129.32019233485335L506.0810078512586,127.38407076331714L504.72158089707955,126.94994438696813L503.88543352311535,126.81475628276894L503.2842830065929,128.3972127417146L503.27244575013174,128.4484438603031L502.66419287974713,128.93063054616505L502.5755045121041,128.90466837436543L500.9169045592862,128.67816005676286L500.3223464840703,129.64950694895015L500.12337130855303,131.0803528238721L499.5789667783829,133.55343588006872L498.62812549488444,134.5006813210166L498.43658047421195,135.7293651586624L499.4979635218915,136.72335275572186L500.0380702173861,138.73227380719982L500.04979820686276,140.30500604419285L500.0643307155551,140.905402682376L500.0564999151393,140.91935728893804L499.95211352434126,141.0793150770187L499.8858613104967,141.14362748273925L499.472686426554,140.98640004534536L499.4218408572633,140.9640380191522L497.1010465669242,140.44424950295434L495.01852714354754,137.96111018847296L494.4519414158858,134.72535607312966L494.4296873737476,134.61033167829737L494.1640593387856,133.53193898992322L491.8292788746767,133.87892249878132L491.5601907185919,133.03291511469797L491.533784531086,132.96612703208302L490.0857420539687,130.95964645173808L489.9937392545253,128.82968577002248L490.021493068125,128.7775013113678L490.0677858464769,128.53486922377851L490.06793153578474,128.45160787946952L490.3279141099629,127.73302620128015L490.36721380140807,127.67403630471381L489.89208453829633,126.17041057893584L490.6722507947852,124.87113061335549L490.29706439851725,123.09920017051991L490.2757937592105,123.03106170468527L490.65994004807726,122.6182855070183L491.2642957294156,121.42051828622061L490.79459339310415,120.26994073856986L490.8073047854268,120.2636555246936L490.7916796069039,120.26391560252159L487.462860978776,122.14577753636331L486.96252746495884,122.74051910797061L486.9171452448063,122.77324474507623L485.77694428029645,123.73277296532251L484.96560051136476,125.28658477432327L482.9284633081261,126.48057778061775L482.11096416585497,127.32386704919918L481.35582004838216,127.69492766079202L476.86141409342235,131.38690734178817L477.11698956596956,130.69253161345478L475.977480625661,128.0610891376964L475.60790326782444,125.44262344647359L474.4709438904538,122.33424351171197L474.0635237342649,120.25216875348633L477.49916904914426,118.0992209180913L480.0369675671391,117.91581853510434L480.3158169070084,118.65610147178813L482.41203112555377,117.3201377400801L482.41173974692356,117.31844718403954L483.8076254509797,117.5979520561923L484.4855906563462,119.3032268189927L484.60516515775817,118.89914783867789L485.0714073729614,117.61620133884571L484.63419375281956,116.06248613497155L485.5394707045343,113.11424863911816L488.211266965649,109.53590552605237L489.07240005636413,109.15263866078385L488.425685208058,107.94057616917416L486.7198090740567,103.29975585030115L484.618058661712,99.39658701287408L483.6849550517218,95.7229702904915L483.0244725636003,95.29117665243393L482.53400950056675,92.25352308516085L485.12680573319085,90.5848985317316L484.9222579415509,88.89261466494645L486.3718301564659,89.0174480912683L487.73726679467654,87.88266787129032L487.02950812537165,85.20538316382954L488.37389265823003,85.06961778663026L491.9082424808439,83.88297450479877L492.8264857811446,86.83867246332375L493.8845543970092,86.6262904416435L494.15859598964744,87.98881423181592L495.1992183106049,88.52140881631567L496.3676101566816,87.2061989530157L497.93304179556435,86.55877731893997L499.32408333006606,84.91030678731113L500.79576389779686,83.67318788385819L505.29974892492464,83.05462263739173L506.1750867233641,85.12893656902816L508.3864683416905,85.14315919579167L510.5482427498646,84.28290341126194L512.5448419025197,84.9853226136729L514.8302336904308,86.3713273478279L515.5966687294713,88.03703100506391L517.6936113945849,88.35247739137412L517.7770185246918,88.40537689321354L521.4288667760266,88.53654151974115L521.5538682042388,88.55934897096085L522.7055422019475,90.07330104364155L522.2401377002825,91.86121413295768L523.1618775440584,92.1412243726918L521.5656690383621,93.73368626629963L521.9377595368132,95.41006208520412L520.5217322856042,96.26003240999489L521.9633644331043,95.45090453137527L522.4817269990453,96.30148150080277L525.4245782219077,96.42105942916896L525.1021313559468,99.05507573032446L524.9480284880119,99.17794535610665L525.1123296076839,99.08403725074459L527.1493575439235,101.24064956726215L526.4034282753128,103.05901235481724L526.4638529167569,105.22707005982011L527.0152141114959,105.92318475311549L525.6318212657934,108.37179449157338L524.6140721665433,111.41732075197069L523.7709317056579,111.9643983885835L523.4461902330659,112.44965632758613ZM506.21901205042377,123.44765053757146L506.2429779419617,123.76458803489732L506.21901205042377,123.44765053757146ZM506.9219993948209,125.38705636969826L506.79419344737835,125.84026088675819L506.9219993948209,125.38705636969826ZM490.30901092194836,114.1312643612946L490.5414217941725,114.0698388322744L490.55766615225,114.06554728014817ZM491.0636451268365,123.55310865473803L490.8143342946423,123.02074557154992L491.0636451268365,123.55310865473803ZM516.6144542510301,117.77485291835546L516.9451325630362,117.67307319105385L516.6144542510301,117.77485291835546ZM516.2038289300253,117.81564280530438L516.5553043910768,117.79405581089668L516.2038289300253,117.81564280530438ZM500.64122396192397,111.11105132789453L499.9782647555112,111.12266920864204L500.5807993204944,111.14421430481889ZM516.2273941759777,103.21131422352119L515.8047859091894,102.09676954833412L516.2273941759777,103.21131422352119ZM513.760983420012,104.35216179966665L513.9912453748984,104.27438602243274L513.760983420012,104.35216179966665ZM508.6216837331158,92.52091491250394L508.7668267084955,92.47014217249671L508.47198796681187,92.5732485293156ZM509.26326303325186,97.51039123688315L509.47167159160017,97.47258457828502L509.3842215830955,97.4884529711453Z" />
					<path data-name="新屋區"
						:class="{ 'active-district': targetDistrict === '新屋區' || selectedIndex === 7, 'initial-animation-5': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(7)" :fill-opacity="districtData['新屋區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M363.1131738933036,118.81817579615745L364.68395961435454,120.3305821954491L365.55372479668586,120.56118410893396L366.54870994119847,118.85957211095229L368.59524410494487,116.80555716291929L369.42075615929207,115.1139809545275L371.4659791192389,114.18527718032055L372.2082661550812,114.66107422565256L374.26732959951914,114.1368130310475L377.6653870723385,111.25636144009331L379.2858528482029,112.71140158405615L379.8882781461725,114.84049454869455L379.3620847797865,115.88892003165165L378.42176954894967,115.63593952292649L377.9026421141316,117.56327407516073L378.1195370748028,121.19438299760805L378.8496590532304,122.18864620848399L379.59777366148774,123.64816390228225L379.1478122266999,124.6025690219576L380.4478343646042,126.78931367892801L381.10711491591064,127.16228339399458L382.54798219451914,130.1426966655854L384.0606743031094,132.56791136669563L385.16314173626597,133.01241494876012L386.7393543841172,134.24718483377L390.4188471820671,134.84532108746862L390.6826905229973,136.1727711016938L391.9104507629818,138.16098749772937L394.17158528076834,138.5740457706779L394.8079197657062,138.05381135830976L396.6578462052421,139.25194127075883L399.7628860527766,140.24411676418822L402.0784719502699,140.61595249699167L405.2150535334804,143.95240083628232L399.7624489848531,144.95185307452994L397.2927602194104,146.60209948744523L394.9166039911797,148.67521491956722L392.05107736974605,152.93497601569106L389.7542125485925,152.4766519444638L386.10003326831793,149.8864333886777L381.1417161271238,148.98808518850274L378.53548005562334,148.0625150109081L377.2812043611484,147.38285959845962L375.8605150520161,148.1506566690514L375.6984721166518,150.59805147783118L373.62265440153715,150.62964127485975L373.0455061988905,149.7739832242587L370.91592912829947,151.00338811088295L369.6143044079945,149.92755675035733L368.4036990842724,151.27729489930425L367.78226133130374,151.09412713060374L367.37068902977626,152.9268295913571L366.2109292753448,154.09609464391542L365.11658402121975,152.96097523781646L362.7580561995128,153.7216228024081L360.1083318689052,150.9361354505927L358.87849555624416,148.6673281493495L356.94978762217215,146.77301181083385L354.38831459125504,146.23067618044297L354.08353255417023,146.68508560413102L353.9973209048185,146.81565317632703L353.02779496727453,146.74917770630418L352.89132050587796,146.69682932574142L352.46900361771986,146.48613548192225L349.62092329117877,145.02474340057597L347.8965081924398,145.5797395095069L346.68000245165604,147.21849183952145L346.6186308297183,149.1421799338641L347.49684599203465,151.57624719888554L346.80463965659146,150.9250422239238L346.70557092559466,150.8319197369965L345.0886381155433,150.3466327352544L343.9745519598655,151.37531356656473L342.8423639074026,151.47896538539135L340.2320849575626,150.34043609155196L339.4351644303533,151.77622710877768L337.86918645654805,153.00136068272332L335.9888109511812,153.5957441356004L336.17387279756076,155.4525357950697L335.73884451706544,158.9247137293787L335.73378181352746,158.92718350689393L333.21393950305355,159.16995800529548L330.547715858047,158.802004705507L328.7914676450164,159.16588504877654L326.69889565922495,160.76979375649898L324.58618212629517,161.25437993391824L321.89897922062664,159.33092631329782L320.7853301328869,159.31108151311128L319.2071142570203,158.2810096204339L319.1021451089764,157.2032638634846L317.75652221695054,156.0846889367749L317.8892451786087,155.35985086111396L315.03868813379086,154.86444647326425L313.888143228236,155.562596333697L312.6753161425295,154.57616357384177L311.781075156061,153.07502507856407L308.85829263567575,154.34694059038156L306.6573642253643,155.05241704607397L305.0857407907897,154.1103940498324L303.3362671306968,156.46608475401445L303.00522459542844,157.76512473679395L299.53261061805824,157.11179380856265L298.19704028844717,157.88579853635383L297.1099430775357,156.8215242326114L295.70979596114194,156.93678289090167L293.30694216678967,155.68669594439416L292.7616999230959,154.35348363560843L291.0254475679103,154.78965679195244L289.18637498197495,153.21741386768917L287.1446121431509,155.70168841481063L286.32332507880346,158.0139682498957L285.65788915414305,158.25678830875768L283.34601833406487,157.47936339552325L279.7875933529431,158.91760770247492L278.66472941632674,160.73114461415753L278.7219124706171,162.18944606544028L276.6523229735176,161.42440048997742L274.8029428689042,158.99070443061646L270.88838036882225,158.24261948865387L272.89481354992313,155.3054704599126L274.1296761438134,151.54738765969887L279.3659684890008,145.72829263853419L281.06962286103226,144.69898996513803L282.87919336161576,143.2383949774703L285.92031202426006,137.55953413533643L286.589280914719,135.94783958841072L289.65961028407037,132.33031610451872L291.27046056545805,129.947310787451L292.08056597522227,127.27900680649327L292.228331358172,122.63826767690989L291.71565067532356,119.92620397447172L292.99065067419724,118.88267601525877L291.2334554806439,118.30997502219543L291.04766518771066,117.59006281657639L292.7402107498201,117.22633351067998L294.5195871408505,115.77898889601784L295.8927088901837,113.55857928353362L296.5770115805499,111.1458182655224L297.1696756947349,106.84650353341203L298.37507262562576,103.79905937785588L303.00755562439736,103.69271318305618L303.93428532705,103.0394597780105L306.9067479022342,98.9132161846428L309.3333126318321,96.06514340866124L310.6373776480905,95.61592171679513L313.42747362915543,96.0909841080902L314.94759589253226,97.19280618523408L316.61074863630347,95.6811741013189L318.34517987511936,96.5426749770013L319.0956619346689,98.07189646039114L321.0700070451712,97.83114026699695L321.7961954122293,97.2070270802833L324.47622311935993,99.11312882936545L327.86309893763973,100.47214259664179L328.95657005588873,100.75646399022298L328.8356479283684,102.23407234843398L331.2869798407046,103.15547456754211L332.48137722865795,105.75159512444225L333.6963532316877,107.69364463567035L334.1146272414917,108.53999817444128L336.73288268108445,107.09144298189858L337.74261886825843,106.9914297262003L336.90734563012666,105.05673646193827L338.25646506558405,104.57269958312463L341.606918556281,104.09490322671263L343.611020708413,106.29055376809265L343.695739042334,106.30876177921527L345.5066935913637,106.86315076465326L347.7309687136294,109.06251155808059L350.17749287874904,107.10024344993508L351.11227191578655,108.04527044516362L352.32946968078613,107.97790196720962L353.34794722660445,109.55801452974993L353.9438529279432,109.01109702220492L356.86219192435965,112.76459153433825L358.5957126049907,112.89091213321808L360.67316932482936,112.4410297331633L360.9097687647154,112.9097258256661L361.5119026840839,115.64027435542812ZM296.31116501161887,120.37700604479687L295.5715003833611,119.88511153003492L294.68439817309263,119.63409180844974L295.5715003833611,119.88511153003492ZM299.10217155086866,139.84818385189283L299.102098706222,139.8478371498677L299.10217155086866,139.84818385189283ZM317.0635874349682,109.56733499060283L317.0746962448611,109.55675735124169L317.0632596340147,109.56768179843857ZM302.2693114668946,141.12126549194727L301.9643473181786,140.67866171940477L301.9645294298098,140.67896508112608ZM362.3615991639381,120.14683716673972L362.5684051398566,119.64250104441453L362.3615991639381,120.14683716673972Z" />
					<path data-name="中壢區"
						:class="{ 'active-district': targetDistrict === '中壢區' || selectedIndex === 8, 'initial-animation-6': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(8)" :fill-opacity="districtData['中壢區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M449.8906076843123,107.2594320768585L450.46659037248173,106.38640590340219L451.81050141510786,106.0126210689159L451.1913946910936,104.30729116640941L451.996510241981,103.84822223571246L454.1897535411845,103.94043504355795L458.342335951922,102.24478083166105L462.2876753187884,101.2584683144305L465.1320041456056,101.19777183895349L467.84503048151964,105.34299558366547L469.87987307809817,107.4525216424081L470.8793745912553,111.23759078422881L471.8273385108623,113.05351607150078L471.9845008543198,115.06872505355204L474.0635237342649,120.25216875348633L474.4709438904538,122.33424351171197L475.60790326782444,125.44262344647359L475.977480625661,128.0610891376964L477.11698956596956,130.69253161345478L476.86141409342235,131.38690734178817L477.51424789275916,133.76337703835816L476.64746934128925,134.05042014545688L477.5849800528813,134.93122080274043L477.73908292084525,135.0884144888587L478.1379438300355,138.36337803189235L478.13113285478903,138.45217837370728L478.30792683280015,139.15356393444745L477.36338661197806,141.74384570296752L478.4386101441196,145.1747707642171L479.15168647324026,148.3260730696784L478.87913819606183,151.878665199245L478.848980508832,151.92511763186485L478.6031662200694,152.40030050393761L476.6118118825834,160.1140994890775L475.93231693947746,161.51192370055287L474.45728551762295,162.87220646550486L473.978441177067,162.6455589557263L474.4549909109628,162.87428619556522L473.2952311565314,163.7604638811863L473.46423075645,165.14242256769285L472.8871918208024,165.9633738807206L472.86508346795745,165.78547567563874L471.73759389574116,166.2002821505921L469.292854424697,167.55933097391608L467.55270488046517,168.388017560952L464.7039325296937,169.23965945994132L462.8713795404037,170.17768320840332L462.42152737261495,170.1580138714089L459.6406098181178,169.34667199239266L459.2917931869597,167.87799074699433L457.0777891610778,167.95428697349416L456.457261966294,166.1851179585865L454.6388044177729,166.24902418073907L453.44193031155737,164.99116887088894L452.0033576395799,165.20494300589417L451.4609199151164,164.92045953009801L451.44172534847166,163.1816091616165L450.69240880341385,161.70746413962843L449.1083289327944,160.64808357015863L448.55387184020947,156.99436883963426L448.5536897285783,156.99393553691698L448.69420706834353,156.9288534461375L448.5511401656695,156.98665605085262L447.94350647482497,155.54435402448507L447.9168453310558,155.48772051593915L447.87976740158047,155.42510730327922L447.23327108724334,154.75139530515662L447.2066099434742,154.7367493414422L446.6203561589209,153.78176718312534L447.4757345218677,152.0779945142167L446.72405052551767,150.1153199968212L446.0970037340885,149.07223932259149L446.06965056608897,147.73659820042667L446.26043071788445,147.59329153404542L445.97203872819955,147.61716877040453L445.03019375960866,148.10051906877197L443.6255666969373,147.32227799895554L442.0927694635466,147.85702417478024L440.2724907986558,146.3074223772128L440.01880928713945,145.27340214845026L437.9430279943481,144.97932779349867L435.41153053905873,144.13189822425556L433.06753522604413,144.3120886607103L430.99532332136005,144.05242018373974L430.13586565773585,144.4309153641516L426.491957473816,144.34766734940422L424.1090266926476,142.52364726355881L424.099374775833,142.3903438405614L422.9774578197539,141.47662986609794L423.78213630271784,137.3706203407346L423.8257702511619,134.17866395903184L422.94544259381655,133.0924219148983L420.3227072079462,135.3413887514762L418.74656740474165,135.8365438072542L417.1907512603357,134.5851077728439L416.23433736071456,134.49860099685975L416.1383645275637,134.4313804991507L416.1866969562543,134.50042128049972L414.86340095102787,134.39995890981663L414.03828954228084,140.08242412479376L413.47385273195687,142.7722256003617L407.3305351633171,143.68904785254563L405.2150535334804,143.95240083628232L402.0784719502699,140.61595249699167L399.7628860527766,140.24411676418822L396.6578462052421,139.25194127075883L394.8079197657062,138.05381135830976L396.78801960397686,135.08195685404644L398.36463289742824,133.35840344010285L400.1604357581964,131.3571751056843L401.7542039679247,130.73981745011042L402.768165145113,126.64207585873737L403.7414425823954,124.65987031338591L403.78933794316254,124.6118880693466L405.6712431862834,121.43868017414206L405.7431772832351,121.2499957682885L407.1449269820296,119.54878570424626L406.35612863388087,117.60774858365039L407.2527734939649,116.8063807713952L406.74399000016274,115.03773081828331L405.94127832289087,112.61681270226109L405.8161312053562,110.86026950275482L404.8088717364444,108.29319818831209L404.679171827971,105.08556617012073L402.5978543414094,101.42061443090279L401.910419330874,98.20738388632162L402.50326555671927,92.68220815814493L401.6326262385119,89.73930220737748L402.6826455199771,88.4317399130814L405.41071427719726,87.01779626853386L407.3534083850536,87.56093270134079L409.8032105596358,87.48548521913835L410.71293103529024,88.1828085526904L411.76174837995495,87.92182236310691L411.90914953962783,87.8622017298876L412.83289261143364,87.70671094959835L413.7358021118416,89.79280800349079L414.59220029995777,90.52931191673633L414.5975908044493,90.5803458070186L415.94831282230734,91.57452583939812L417.00707346240233,89.50641724284651L417.72357349032245,86.84951269314115L419.44008494396985,88.69198763738677L419.79793431232974,90.06597328687349L419.6010716318269,92.21770891500273L421.0456539878505,94.27973420434137L421.01054286406725,96.63545821794105L421.3982585410413,97.09317314973669L423.2780877115001,94.68577790554264L425.76496781554306,95.19583407431492L425.7910097797576,91.05469523732972L426.669006408134,88.52028145151417L427.47816483739007,88.31406019446513L429.0465102624876,90.69026153073355L429.85341050745046,89.35170952009139L431.3372197102435,88.6179719013453L432.37478255569295,89.35027864595031L436.18077009728586,90.79358653575764L434.7775999277219,92.49108430496926L436.0549673778587,94.48876128705888L435.0681772570679,96.58277989319686L436.6766600871488,95.82360191430053L436.2217816381308,99.94295059117212L437.62203802150907,100.60060324798542L436.60887813553563,102.64745364385453L437.6576590578625,103.9530075400944L437.1145657314919,106.07747643701441L438.40857818535005,108.6381457586067L438.528480487701,109.03285933323059L439.990654827925,107.10258446100488L440.084296632107,102.48140766732467L440.7109063555836,102.17086192604256L439.9414118410641,100.715927214369L437.3195870133786,98.30753607250153L437.9209924861789,97.64939128195692L438.877078584861,98.36051697162839L439.978016280249,97.14797566729249L439.4473429675854,95.9813345167313L441.3580946941511,93.88448494156182L442.294767692234,94.74344334697162L443.55789401232323,93.60148792890686L445.94654309890757,95.79654714914795L447.00297271003365,94.63973224322763L447.77108317612146,95.34329202018489L448.7733892084798,93.22869547194568L448.58916507563845,95.84059785274803L447.54377142975864,97.06000547211443L447.00646925347974,98.95991019566281L447.57130670940387,100.62492534379635L447.17397553796764,102.02605874886649L447.6642200670467,105.60922492920145ZM409.74810357800743,116.33263137389804L409.67718930622505,116.35989727577908L409.74810357800743,116.33263137389804ZM475.21446928543446,146.61991009066332L475.1990990632039,146.72733699458695L475.19920833017386,146.7265569690826ZM469.2103578527458,122.86869084620048L469.21079492068384,122.85009576830271L469.2103578527458,122.86869084620048ZM470.0181322335702,123.75327504811867L469.9339238122193,123.70836984644484L470.0181322335702,123.75327504811867ZM469.5669688619819,130.59860999942248L469.49128326527716,130.64216848860815L469.5312749809673,130.61915400564612ZM470.1075854700757,160.73565079294713L469.92831477378786,160.64245084165668L469.9664489507413,160.66229537604522ZM466.46527986858564,162.51306242792998L466.4765343678009,162.29642285881346L466.46527986858564,162.51306242792998ZM466.4414596663555,162.78247473745068L466.46130983486364,162.58225700684852L466.4414596663555,162.78247473745068ZM466.40860672687995,163.42307344504297L466.40860672687995,163.42324675493728L466.41148409075686,163.33043927107428ZM470.899552560717,138.23834666922994L470.9196941078699,137.97848895574862L470.9270149957156,137.93844411087775ZM464.2444648674136,160.43902247149526L464.2809964619664,159.94957947281364L464.2444648674136,160.43902247149526ZM463.6913554009516,161.95452133025537L464.4747268223,161.6354959438795L464.3586852866574,161.68346030409884ZM463.04070694127586,162.18273022402718L463.0808079239214,162.1723315009367L463.0964331024443,162.16830199545439ZM466.3445398526819,167.90714882342945L466.32978881002055,167.91260783827238L466.27570165359066,167.93253757247658ZM452.22039828955894,149.5898160133729L452.21624614422035,149.63349617333006L452.27138954815746,149.40599512972403ZM444.2067577779526,143.86078857261964L444.0778227383562,143.5345546220342L444.0458439347567,143.52952762927816L443.92794486040657,143.5108930849783L444.0778227383562,143.5345546220342ZM463.433230365481,157.09290183031044L463.58314466575393,157.05676441236574L462.9791896300012,157.2325117315886ZM444.2104000107065,111.7177803252016L444.0549130943109,111.25302347151592L444.2104000107065,111.7177803252016ZM444.56045500095934,112.70923410382602L444.5708353643131,112.73840838389151L444.25345120189013,111.82710906249122Z" />
					<path data-name="八德區"
						:class="{ 'active-district': targetDistrict === '八德區' || selectedIndex === 9, 'initial-animation-7': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(9)" :fill-opacity="districtData['八德區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M500.0643307155551,140.905402682376L500.04979820686276,140.30500604419285L500.0380702173861,138.73227380719982L499.4979635218915,136.72335275572186L498.43658047421195,135.7293651586624L498.62812549488444,134.5006813210166L499.5789667783829,133.55343588006872L500.12337130855303,131.0803528238721L500.3223464840703,129.64950694895015L500.9169045592862,128.67816005676286L502.5755045121041,128.90466837436543L502.66419287974713,128.93063054616505L503.27244575013174,128.4484438603031L503.2842830065929,128.3972127417146L503.88543352311535,126.81475628276894L504.72158089707955,126.94994438696813L506.0810078512586,127.38407076331714L505.199004766866,129.32019233485335L505.31901633620146,130.51027939253618L507.1816177457222,131.57843300503737L508.5190820363641,131.1076146735686L509.22399976413,131.35591820336776L510.2330075047648,129.61491986392502L511.2774905924307,130.04140638591707L511.0087666596228,131.58337392016983L512.1020192439319,132.4527977900616L513.357678986853,132.35658076743857L515.8106863262656,132.60934528705184L516.8561163944541,133.46736161045555L517.3560492626711,131.95987959864578L518.3721229348303,132.9556819093159L518.196895116911,133.75215187203867L519.4813649209536,133.19951672909883L520.5224607321434,133.6944657657259L521.0202446830226,132.9362219059076L522.3025291474041,133.13619601316896L524.0902826737874,131.73181796646531L524.596990094913,134.34144971698697L523.6131501826312,136.34036425051454L524.5608227236371,135.72667810652638L524.6259458453278,137.1162644023534L524.0103720870975,137.6094603637357L524.7814691840467,141.62271892471836L524.00640205339,145.95094857513322L524.0228285231133,151.06747742709194L524.8524198781379,152.27290353158241L526.5621932012,153.51714030203948L525.7097650467913,154.56489742823032L521.2698104715237,155.4964733632878L520.9813092148688,155.23319431086566L521.2698104715237,155.4964733632878L515.0006173388101,159.45367801334578L513.0070048170164,161.25035039122668L508.7224643135123,165.3088403623624L506.69618096388876,167.35656664373164L506.54961751773953,167.51353573291271L506.54666730923054,167.51682848510245L504.92190369873424,169.10474552010055L502.24234948183584,170.97927036776673L501.4839273548714,170.38213143898975L501.38413017733546,170.29054353600077L500.8517814375955,169.91379316706298L499.5478256883216,169.958764134808L496.097392908443,171.89059026189352L496.0496796593361,171.91628126029536L496.04279583942844,171.9199637806014L491.4531090755481,174.14812350647117L489.5917824474891,173.4424359644363L487.31640679962584,174.27505922032287L486.2699933285767,173.98605279125331L486.9860927109112,172.95803915584838L486.19270514948585,170.72231434013884L486.10805966021144,170.61863926189835L485.3742226043687,169.38722407987734L486.01343445318344,167.93565700876934L484.0691013406031,168.36041933699016L484.13677402521716,166.70598496684397L484.1001695860323,166.7309840883463L482.05531084934773,166.22428489555023L484.0298380714812,166.82313850795617L482.3230878016184,169.01280984029654L482.27104029551265,169.10725836970232L480.733289625583,171.00838421064327L480.64106829217053,171.02558390254126L480.0958988931379,172.90059242320422L478.37388766802906,173.9538638955055L476.53354030064656,176.11608540856105L476.42915390984854,176.24427494560587L472.5304351222585,177.09797232609708L471.7238262559258,177.56528037929456L471.86547268783033,179.59633587590724L470.397434352868,180.98392270330442L469.14512546408514,183.3217792762698L469.00956156085886,182.83171246217898L470.2445698440715,179.12908068431716L470.935610665023,178.07824667144087L470.7932357865502,175.84224705066663L470.0965130824916,175.17057958032092L468.2150084849709,173.01999147742754L470.50276772418874,170.92286227290606L471.4444305811485,169.1800010062434L472.8871918208024,165.9633738807206L473.46423075645,165.14242256769285L473.2952311565314,163.7604638811863L474.4549909109628,162.87428619556522L474.45728551762295,162.87220646550486L475.93231693947746,161.51192370055287L476.6118118825834,160.1140994890775L478.6031662200694,152.40030050393761L478.848980508832,151.92511763186485L478.94946971059835,151.9112945688321L478.87913819606183,151.878665199245L479.15168647324026,148.3260730696784L478.4386101441196,145.1747707642171L477.36338661197806,141.74384570296752L478.30792683280015,139.15356393444745L478.13113285478903,138.45217837370728L478.1379438300355,138.36337803189235L477.73908292084525,135.0884144888587L477.5849800528813,134.93122080274043L476.64746934128925,134.05042014545688L477.51424789275916,133.76337703835816L476.86141409342235,131.38690734178817L481.35582004838216,127.69492766079202L482.11096416585497,127.32386704919918L482.9284633081261,126.48057778061775L484.96560051136476,125.28658477432327L485.77694428029645,123.73277296532251L486.9171452448063,122.77324474507623L486.96252746495884,122.74051910797061L487.462860978776,122.14577753636331L490.7916796069039,120.26391560252159L490.79459339310415,120.26994073856986L491.2642957294156,121.42051828622061L490.65994004807726,122.6182855070183L490.2757937592105,123.03106170468527L490.29706439851725,123.09920017051991L490.6722507947852,124.87113061335549L489.89208453829633,126.17041057893584L490.36721380140807,127.67403630471381L489.6740240631334,127.71269831289828L490.3279141099629,127.73302620128015L490.06793153578474,128.45160787946952L490.0677858464769,128.53486922377851L490.021493068125,128.7775013113678L489.9937392545253,128.82968577002248L490.0857420539687,130.95964645173808L491.533784531086,132.96612703208302L491.5601907185919,133.03291511469797L491.8292788746767,133.87892249878132L494.1640593387856,133.53193898992322L494.4296873737476,134.61033167829737L494.4519414158858,134.72535607312966L495.01852714354754,137.96111018847296L497.1010465669242,140.44424950295434L499.4218408572633,140.9640380191522L499.472686426554,140.98640004534536L499.8858613104967,141.14362748273925L499.95211352434126,141.0793150770187L500.0564999151393,140.91935728893804ZM484.7907733390457,165.98763664094804L484.4989940728992,166.24373837951862L484.7907733390457,165.98763664094804ZM506.4969508320937,138.7890902222316L506.45138650031004,139.1611480937936L506.4969508320937,138.7890902222316ZM503.71097057404404,145.61761451157508L503.3971922220517,145.2164594368296L503.71097057404404,145.61761451157508ZM508.4065370441822,138.70133029974022L508.4111262574588,138.4704238221202L508.41050707788963,138.50167076988873ZM518.316032550385,135.70492164960888L517.9956253347627,135.43664940832969L518.316032550385,135.70492164960888ZM498.7291610315733,164.42826566641816L498.7560042869736,164.43220842624578L498.69073547598964,164.42263315211312ZM522.1116033062863,136.37923957976818L521.987257479981,136.5897815109056L521.9874395916122,136.5894781366951ZM495.46721379685914,165.06868046182717L495.5596900865494,164.7918221261025L495.6173102087778,164.61933769337702ZM486.4829911002016,165.05433930560685L486.59032769953774,164.5830297038192L486.4829911002016,165.05433930560685ZM476.9762901145732,162.2976793696762L476.97086318775837,162.24338942036047L476.9762901145732,162.2976793696762ZM479.58358243356633,165.96627674698175L478.8080418126483,165.70441187261167L479.58358243356633,165.96627674698175ZM485.37229222099995,155.59119472141174L485.55178145125683,156.45763530562908L485.37229222099995,155.59119472141174ZM495.39986891318404,170.26792815624503L495.4000874471385,170.2678848317555L496.42202511406504,170.1990855222066ZM501.6006609147298,152.96912165936374L501.57330774674483,152.969034995298L501.55764614588406,153.9982086554155ZM504.519837624699,148.0984390294907L504.46127052196243,148.1047658154821L504.3158361679816,149.73437646937964ZM511.1639621974173,156.61028856260964L511.08707466391206,156.77758725023523L511.163780085757,156.6106785365737Z" />
					<path data-name="平鎮區"
						:class="{ 'active-district': targetDistrict === '平鎮區' || selectedIndex === 10, 'initial-animation-8': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(10)" :fill-opacity="districtData['平鎮區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M471.73759389574116,166.2002821505921L472.86508346795745,165.78547567563874L472.8871918208024,165.9633738807206L471.4444305811485,169.1800010062434L470.50276772418874,170.92286227290606L468.2150084849709,173.01999147742754L470.0965130824916,175.17057958032092L470.7932357865502,175.84224705066663L470.935610665023,178.07824667144087L470.2445698440715,179.12908068431716L469.00956156085886,182.83171246217898L469.14512546408514,183.3217792762698L469.3279291261424,184.72023033470396L469.3392564700189,184.79638368925953L468.73216911411146,187.738379677372L468.9439649489068,188.54766564582314L468.5598550823779,192.12342405241725L467.3958339156088,193.58988491233322L466.51648966112407,196.71522486709364L466.34781786217354,201.75850306611028L465.24986679761787,208.51739730393092L464.50459313091415,210.6452187178511L462.8880609664484,212.61090023191355L461.8306843747996,212.17545683374192L462.80880598165095,210.76245046978875L463.7586274399655,205.9038214462962L463.55987079844635,203.9283061774222L464.47334277383925,203.0753153041078L464.05721768138756,200.14581312868904L462.8457382218039,200.35375133198613L462.7982435066515,200.3474278687645L461.20702485984657,199.48115292269358L460.7517821875517,198.41762672784898L459.21574336700724,200.38710109713065L457.78015732590575,200.26613235029072L456.6101264750905,201.57776701872717L453.37662507822097,199.77545596572963L451.9006466758292,195.82236723238748L451.37660222678096,195.4367043127677L449.13225840200903,197.10088283428558L446.87615016543714,196.92914741230925L445.87766847747844,198.76550997337108L446.01396082724386,199.73929073800173L445.45203715751995,199.36464419290132L444.973192816964,197.29743615168263L445.41991266461264,195.91189591079092L444.61140983722,195.53104113530208L442.76312240243715,196.59905940499448L439.43892940992373,197.61920582866514L438.9012994326913,197.56354914778422L438.8656419739855,197.5575286956082L436.28089507577533,196.29214284516638L436.25059169922315,196.23098464822397L435.627733475485,196.21608491183724L435.589052963609,196.26892699012387L433.19213600865623,198.883881821479L433.1916625183949,198.883881821479L430.5399713821098,199.27983961167047L430.32052685850067,199.32531705186193L426.96461001866555,200.27713345256052L426.43448304091,200.04914185612506L426.19198318397684,198.42836816097406L426.8973015573283,197.80531981113745L425.7815399746032,196.23951734510047L424.94175036784145,196.4522714590821L424.93089651422633,195.35657425094178L424.9885530587635,195.33647675507382L424.9286019075953,195.35189638588417L423.9363484376372,195.7511600402795L423.0879267392593,197.74468229397098L421.2384737899847,199.43914049680825L419.10754909328534,198.59641946400734L418.37382130441256,195.77182052643548L419.5638844353816,193.9849541598196L420.1593530687969,191.43345748648426L420.1262087507057,189.93629718822922L420.7720494631503,188.7200219584047L420.8070148976258,186.30700641911608L421.64851635375817,184.77416147065014L422.1576640708372,182.52934527540856L422.12874474274577,181.2207951965138L422.1391251061141,181.13801118335323L422.3241869524936,177.72673876528643L421.7927123486006,175.2116491610941L421.98782675739494,173.91361693046565L421.02259865448286,171.20867162205468L421.73844308052503,169.95872081017296L422.10317626880715,167.39577644495876L420.7237534568121,162.93377512244479L419.6223058487958,160.82070487956298L418.68162639469665,156.57467093463856L417.1160126441682,154.9832172246497L416.89390929063666,152.89883708562047L415.72930536663625,152.29305306359674L414.6832925412018,150.67215098583983L413.7346365973499,146.68439224782196L413.47385273195687,142.7722256003617L414.03828954228084,140.08242412479376L414.86340095102787,134.39995890981663L416.1866969562543,134.50042128049972L416.23433736071456,134.49860099685975L417.1907512603357,134.5851077728439L418.74656740474165,135.8365438072542L420.3227072079462,135.3413887514762L422.94544259381655,133.0924219148983L423.8257702511619,134.17866395903184L423.78213630271784,137.3706203407346L422.9774578197539,141.47662986609794L424.099374775833,142.3903438405614L424.10039460100234,142.40442824840284L424.1090266926476,142.52364726355881L426.491957473816,144.34766734940422L430.13586565773585,144.4309153641516L430.99532332136005,144.05242018373974L433.06753522604413,144.3120886607103L435.41153053905873,144.13189822425556L437.9430279943481,144.97932779349867L440.01880928713945,145.27340214845026L440.2724907986558,146.3074223772128L442.0927694635466,147.85702417478024L443.6255666969373,147.32227799895554L445.03019375960866,148.10051906877197L445.97203872819955,147.61716877040453L446.06965056608897,147.73659820042667L446.0970037340885,149.07223932259149L446.72405052551767,150.1153199968212L447.4757345218677,152.0779945142167L446.6203561589209,153.78176718312534L447.2066099434742,154.7367493414422L447.23327108724334,154.75139530515662L447.87976740158047,155.42510730327922L447.9007830845949,155.46059535045788L447.9168453310558,155.48772051593915L447.94350647482497,155.54435402448507L448.5511401656695,156.98665605085262L448.5536897285783,156.99393553691698L448.55387184020947,156.99436883963426L449.1083289327944,160.64808357015863L450.69240880341385,161.70746413962843L451.44172534847166,163.1816091616165L451.4609199151164,164.92045953009801L452.0033576395799,165.20494300589417L453.44193031155737,164.99116887088894L454.6388044177729,166.24902418073907L456.457261966294,166.1851179585865L457.0777891610778,167.95428697349416L459.2917931869597,167.87799074699433L459.6406098181178,169.34667199239266L462.42152737261495,170.1580138714089L462.8713795404037,170.17768320840332L464.7039325296937,169.23965945994132L467.55270488046517,168.388017560952L469.292854424697,167.55933097391608ZM439.32642084007966,170.3550969863354L439.3262751507573,170.35544358192783L439.2484770590818,170.54975354627823ZM439.01027503676596,184.72716124539147L439.01548342962633,184.79352469064906L439.00816254176607,184.7006938276536ZM464.6508651984186,175.70378965378404L462.9553694277711,177.1159507519842L463.10550226201303,177.18175609517493Z" />
					<path data-name="楊梅區"
						:class="{ 'active-district': targetDistrict === '楊梅區' || selectedIndex === 5, 'initial-animation-9': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(5)" :fill-opacity="districtData['楊梅區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M422.1576640708372,182.52934527540856L421.64851635375817,184.77416147065014L420.8070148976258,186.30700641911608L420.7720494631503,188.7200219584047L420.1262087507057,189.93629718822922L420.1593530687969,191.43345748648426L419.5638844353816,193.9849541598196L418.37382130441256,195.77182052643548L419.10754909328534,198.59641946400734L417.49688092354336,198.36474247763908L416.9079318867589,198.97695933024806L415.3488377328613,198.9307021147979L413.7519736252725,201.24882050718952L414.10822041123174,201.93347846208417L413.39263094149646,203.39918850514005L413.4930108762783,204.49323807639666L412.55200362121104,205.0012582758718L411.86923066861345,205.43824885520007L411.97059400622675,208.76074376374163L412.59024706516357,210.98790575272142L412.44739869642945,212.96436367753995L410.8029670290416,212.7126261180456L408.2065285636636,212.7499125918257L406.75910526610096,211.79384142270646L405.00191007256217,211.4654050189165L401.1105850174645,211.85083265046342L399.7208546867623,210.3827351558175L399.5110985023057,208.8094649536106L397.8911426390405,206.03712638836078L395.46781949659635,206.43617396929403L393.2175752547628,205.62400175270523L389.1518965176074,205.81664043738783L385.5912133521924,204.70393901069838L384.08209063170943,205.83240491758625L383.22547390962427,208.22065153734002L381.708848189679,207.01326133219118L380.01735887507675,206.55107200498605L378.92275866465934,206.87454412721854L377.76230688599753,205.8410234098119L375.72294792077446,206.38199471385087L374.7092416999076,206.66345800668205L372.0429087879311,206.0334018212634L368.1536233831721,204.5558204148292L367.043907906831,204.54663878702559L363.5578176682611,201.80969639446994L365.20570945677173,197.7486670462422L364.5705040639732,193.64801273027115L363.8044696705474,192.30603980309388L358.1331126225414,194.39150004594558L351.76390377832286,195.8030927845648L350.7941957291332,195.83640076059237L349.4407056143682,194.2061593348808L347.336223527469,193.29062573572446L346.63880879917997,192.29789660314418L345.06685756365187,191.4080747342232L343.1853529661166,191.78162502861596L340.3199720339762,191.5230767425346L337.8765437667171,190.55800868752704L336.0069492703042,190.87975683286277L335.47030269590323,188.82610389331967L333.79684243343945,187.9076618983163L330.9946542396501,187.41419562352166L329.7096381006995,186.77526751929327L328.9543847162422,187.41220304056696L326.1515044981934,185.77983101750578L327.2721466728399,184.69311314206425L326.5556102225819,182.13886571795956L326.6272893632413,179.27130220296021L328.2236071359075,175.50333800582666L328.5409184536693,174.08361584097656L328.4661069928552,170.70836391802004L327.3574477640068,168.59797177365908L326.7197656529315,166.22658118670006L326.14101486786967,165.83209491456L326.67842631114763,164.23182070981056L326.2483150448825,163.64984916422327L326.858898944236,162.12727035498028L326.69889565922495,160.76979375649898L328.7914676450164,159.16588504877654L330.547715858047,158.802004705507L333.21393950305355,159.16995800529548L335.73378181352746,158.92718350689393L335.7610985592182,158.92272057553782L335.73884451706544,158.9247137293787L336.17387279756076,155.4525357950697L335.9888109511812,153.5957441356004L337.86918645654805,153.00136068272332L339.4351644303533,151.77622710877768L340.2320849575626,150.34043609155196L342.8423639074026,151.47896538539135L343.9745519598655,151.37531356656473L345.0886381155433,150.3466327352544L346.70557092559466,150.8319197369965L346.80463965659146,150.9250422239238L347.49684599203465,151.57624719888554L346.6186308297183,149.1421799338641L346.68000245165604,147.21849183952145L347.8965081924398,145.5797395095069L349.62092329117877,145.02474340057597L352.46900361771986,146.48613548192225L352.89132050587796,146.69682932574142L353.02779496727453,146.74917770630418L353.9973209048185,146.81565317632703L354.08353255417023,146.68508560413102L354.38831459125504,146.23067618044297L356.94978762217215,146.77301181083385L358.87849555624416,148.6673281493495L360.1083318689052,150.9361354505927L362.7580561995128,153.7216228024081L365.11658402121975,152.96097523781646L366.2109292753448,154.09609464391542L367.37068902977626,152.9268295913571L367.78226133130374,151.09412713060374L368.4036990842724,151.27729489930425L369.6143044079945,149.92755675035733L370.91592912829947,151.00338811088295L373.0455061988905,149.7739832242587L373.62265440153715,150.62964127485975L375.6984721166518,150.59805147783118L375.8605150520161,148.1506566690514L377.2812043611484,147.38285959845962L378.53548005562334,148.0625150109081L381.1417161271238,148.98808518850274L386.10003326831793,149.8864333886777L389.7542125485925,152.4766519444638L392.05107736974605,152.93497601569106L394.9166039911797,148.67521491956722L397.2927602194104,146.60209948744523L399.7624489848531,144.95185307452994L405.2150535334804,143.95240083628232L407.3305351633171,143.68904785254563L413.47385273195687,142.7722256003617L413.7346365973499,146.68439224782196L414.6832925412018,150.67215098583983L415.72930536663625,152.29305306359674L416.89390929063666,152.89883708562047L417.1160126441682,154.9832172246497L418.68162639469665,156.57467093463856L419.6223058487958,160.82070487956298L420.7237534568121,162.93377512244479L422.10317626880715,167.39577644495876L421.73844308052503,169.95872081017296L421.02259865448286,171.20867162205468L421.98782675739494,173.91361693046565L421.7927123486006,175.2116491610941L422.3241869524936,177.72673876528643L422.1391251061141,181.13801118335323L422.12874474274577,181.2207951965138ZM377.22686224841163,204.5274959564922L376.479803887647,205.44548148791728L377.22686224841163,204.5274959564922ZM382.1521807608369,188.79755837764606L382.29324443551013,188.96194404996277L382.65477245894726,188.55095770184198ZM394.9455597415799,164.93029471716L394.8556694371655,165.09298676714388L394.9455597415799,164.93029471716ZM419.7341223944386,178.71103574996596L420.34124617266934,178.5225467287928L419.73430450606975,178.71094910835745ZM392.54540119948797,173.5349307490651L392.29346795970923,173.1760418394515L392.1253424956376,173.7911430194763Z" />
					<path data-name="龍潭區"
						:class="{ 'active-district': targetDistrict === '龍潭區' || selectedIndex === 4, 'initial-animation-10': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(4)" :fill-opacity="districtData['龍潭區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M444.61140983722,195.53104113530208L445.41991266461264,195.91189591079092L444.973192816964,197.29743615168263L445.45203715751995,199.36464419290132L446.01396082724386,199.73929073800173L445.87766847747844,198.76550997337108L446.87615016543714,196.92914741230925L449.13225840200903,197.10088283428558L451.37660222678096,195.4367043127677L451.9006466758292,195.82236723238748L453.37662507822097,199.77545596572963L456.6101264750905,201.57776701872717L457.78015732590575,200.26613235029072L459.21574336700724,200.38710109713065L460.7517821875517,198.41762672784898L461.20702485984657,199.48115292269358L462.7982435066515,200.3474278687645L462.8457382218039,200.35375133198613L464.05721768138756,200.14581312868904L464.47334277383925,203.0753153041078L463.55987079844635,203.9283061774222L463.7586274399655,205.9038214462962L462.80880598165095,210.76245046978875L461.8306843747996,212.17545683374192L462.8880609664484,212.61090023191355L464.50459313091415,210.6452187178511L465.24986679761787,208.51739730393092L466.34781786217354,201.75850306611028L467.19274301709083,201.15557187775994L467.2155798164895,201.14716953527022L467.5913853923412,203.84935231503187L466.8898185187136,208.2858300104599L466.1543788804411,210.6747107231131L466.02810267078166,215.5220210669322L464.264715681551,220.70447440570933L464.0578732832655,222.96951816201545L465.33389310730854,224.0610579211716L466.43625127349515,222.96029492923117L467.9708332009468,222.3144933054282L468.77288927632617,222.62812807507726L470.5489876578795,220.43201442409918L470.59797568844806,220.36896572721525L473.3246603972075,218.9498398633259L475.03177489034715,222.5858655984157L475.147743581314,223.5301851896911L475.970014048522,224.20066052564653L477.36677388843964,223.59981368293302L478.2971458238462,225.95845016556996L478.3583353341528,226.09952232001888L479.7270864041784,229.61288202234937L479.5945455541514,232.0796203386526L475.5582232130255,237.70659143540615L473.6755895233364,242.06147009712367L471.4237426990876,244.69565773747672L470.1999889151193,247.37142176206908L469.4161075811862,251.46129546001248L467.65468739764765,253.44197288775467L466.16308381674753,254.3760875031585L462.44447343898355,259.7030446545359L461.83425376289233,264.07496978937706L460.22904894230305,266.35928558216256L458.28813952849305,267.3392451998661L455.3118526089238,267.7685182413079L450.8351479051489,268.87038851123L449.39570109730994,269.83673319100126L446.05231353816635,271.4817958909189L445.5730685520102,268.6760970047035L444.6708510758326,267.8022350112624L444.89885484641127,265.0954216966602L444.0370297314803,264.22520748874376L444.710551412878,261.6671103797453L442.77867473629885,261.08484196440986L441.21080280147726,261.4428950225738L439.6982928045327,262.63313519080475L437.328729017594,263.42333117118324L435.90796686380054,265.4580051054036L433.73038516545785,265.24873096957526L432.3959803503385,263.127224831871L434.45511663942307,260.5766312306805L432.8361441790039,259.7042999375226L432.02563812362496,257.63340782297746L432.7388237197447,257.1376028158629L430.93329609751527,256.71927895323097L429.5267386514897,259.0654887116689L427.5148056989128,256.59487228425496L424.5025335196988,255.0025917507155L422.33515007309325,253.29371022951818L417.97350350210036,250.9012182948063L413.37376417580526,249.09906276145557L411.11816585181805,248.80624729284318L411.33236556025804,247.83207988987851L412.9833168242767,245.30685414043546L412.4677951998747,245.12974696902893L411.180812255232,244.14108402618876L407.95984013903944,243.0602841700711L407.53861592072644,243.71460998356997L405.8211939088942,241.93392803706956L405.3086224930157,242.16459461712657L402.2924531247554,240.88678683995386L401.19504839510773,241.0000866016926L400.70385688550596,240.00029943226036L397.2127767880738,237.00014178207493L396.84786148816056,235.5144467260361L395.262725370063,235.7834884099284L393.7795717691479,235.163184742054L395.818238710126,233.8854604649714L396.5396557522763,231.60165694061652L397.751572279798,230.9045597357217L398.1776770900178,229.11464292188248L398.9249904070748,228.73573360186128L398.3687121981202,227.76825479876425L398.6951290977886,225.84435390941144L402.0585853594239,223.06014828678235L400.97210732806707,220.76449171416243L401.6363048935891,220.20207701969412L400.17442193198076,214.29224387732756L398.31192978943,211.06412563307458L399.7208546867623,210.3827351558175L401.1105850174645,211.85083265046342L405.00191007256217,211.4654050189165L406.75910526610096,211.79384142270646L408.2065285636636,212.7499125918257L410.8029670290416,212.7126261180456L412.44739869642945,212.96436367753995L412.59024706516357,210.98790575272142L411.97059400622675,208.76074376374163L411.86923066861345,205.43824885520007L412.55200362121104,205.0012582758718L413.4930108762783,204.49323807639666L413.39263094149646,203.39918850514005L414.10822041123174,201.93347846208417L413.7519736252725,201.24882050718952L415.3488377328613,198.9307021147979L416.9079318867589,198.97695933024806L417.49688092354336,198.36474247763908L419.10754909328534,198.59641946400734L421.2384737899847,199.43914049680825L423.0879267392593,197.74468229397098L423.9363484376372,195.7511600402795L424.9286019075953,195.35189638588417L424.93089651422633,195.35657425094178L424.94175036784145,196.4522714590821L425.7815399746032,196.23951734510047L426.8973015573283,197.80531981113745L426.19198318397684,198.42836816097406L426.43448304091,200.04914185612506L426.96461001866555,200.27713345256052L430.32052685850067,199.32531705186193L430.5399713821098,199.27983961167047L433.1916625183949,198.883881821479L433.19213600865623,198.883881821479L435.589052963609,196.26892699012387L435.627733475485,196.21608491183724L436.25059169922315,196.23098464822397L436.28089507577533,196.29214284516638L438.8656419739855,197.5575286956082L438.9012994326913,197.56354914778422L439.43892940992373,197.61920582866514L442.76312240243715,196.59905940499448ZM472.9427358703397,226.10441524260386L473.16859072358056,225.8198892302753L472.9427358703397,226.10441524260386ZM457.43778744674637,203.99950752239602L457.433598879099,204.08365843809224L457.43877084960695,203.97993148858586ZM440.22663508825644,210.96118547400692L440.23898225730227,211.02666530143688L440.23898225730227,211.02670860818762ZM437.1914896873204,218.3879778752489L437.48166637103714,218.57400975592464L437.1918539105973,218.38819439300642Z" />
					<path data-name="大溪區"
						:class="{ 'active-district': targetDistrict === '大溪區' || selectedIndex === 3, 'initial-animation-11': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(3)" :fill-opacity="districtData['大溪區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M496.04279583942844,171.9199637806014L496.097392908443,171.89059026189352L499.5478256883216,169.958764134808L500.8517814375955,169.91379316706298L501.38413017733546,170.29054353600077L500.8907533281017,171.08758075206424L501.4839273548714,170.38213143898975L502.24234948183584,170.97927036776673L504.92190369873424,169.10474552010055L506.54666730923054,167.51682848510245L506.69618096388876,167.35656664373164L508.7224643135123,165.3088403623624L513.0070048170164,161.25035039122668L515.0006173388101,159.45367801334578L516.8611426756688,162.49352155817905L518.6039146274852,163.32840287809086L518.7509879862191,164.2520111445083L520.4414210533141,165.25615514429592L519.5916881511512,167.8685024557817L521.531614162086,167.35431370440347L526.1208638580574,166.61192409111754L528.5484484128101,166.5144403627928L531.1193548265583,167.45508936349142L532.570930269474,167.49763520438864L529.4374810064328,170.26272921764394L528.5067812700727,170.54308159394714L525.3122153413715,170.33339143488774L523.4745268039114,170.6294270205799L521.4560742547183,171.6580279373411L516.3324725910061,177.3010200460012L517.7811342477216,178.43230927046898L518.30106297374,179.5597734312505L520.3660632575775,181.05635341580637L520.6557664510619,182.4171486213636L522.6257044599333,183.0788471380074L522.6629645010398,184.53890021269763L520.7713344964432,186.92120339148096L519.407318329002,187.6684228924605L519.4755373485241,188.61359337842077L518.3216780111688,190.32423383748028L519.8759644178208,191.6464384478095L523.8162046588259,193.77332094362282L525.8665631669719,192.20580909337514L526.8245796489937,190.56350977521652L528.0182850127312,191.15177787837456L527.9177593886416,193.25055984919163L526.9296580640366,195.6374623195552L527.829872312228,197.10244209527082L529.2453532285144,197.11621556624232L531.5262286478246,195.86030973000743L533.1584952577978,196.68066110841755L534.2696676272608,196.45699258552122L533.5618361132947,199.56652038498942L533.7200182819215,200.59412925958895L536.1763036308112,201.96158710470627L536.836385473347,206.56484416923195L538.0130816101009,207.67037895412795L540.4561820764065,207.7494164041418L541.551437888731,209.2222299182322L542.607976766827,209.460247842464L542.518632797306,210.6562619807628L543.2485362417792,212.06359672566396L542.3094957924186,213.78258213819572L540.4503545040061,214.59897506183188L539.5736690794292,215.67228859630632L537.044320541434,216.15669413833893L536.4117011338967,217.127966492204L536.5804457775375,217.257055925631L537.4831731663144,218.63203638880805L538.0845422167913,221.062282687697L539.5292338397994,222.89555906938767L542.7045323572092,224.0137731237337L544.1043880949728,226.71815037147462L545.7620774896059,227.20349813089706L545.7932914243429,228.25645519805767L543.5357262946636,228.09148486487538L542.4757272954303,230.31821494712494L541.3448504467378,230.6823102669914L541.8349128642003,231.54294509066676L539.8821661939292,231.26778695566463L538.9472778899071,231.9510263712982L537.6450704123563,230.62584938405053L534.1587616398319,231.94063493236172L530.4988640541123,232.23492872397037L529.6772856111347,234.87877116806703L527.6244503847411,235.34104564240624L527.6260893894796,237.77885103395238L526.8602735300374,237.5620720812949L527.1450232869538,239.64420428012818L525.6895142326684,244.4869461661292L526.3989119067119,245.9205144210282L525.6899148782686,248.5181929170467L527.9777105398098,248.79486193130288L526.4000409988657,250.22269735232112L526.7008530022431,250.7885358265812L524.0412946432043,250.87485502417258L523.4169066816976,251.5090001405697L523.9136343850696,253.10947463117918L522.214860604945,253.62096999340065L521.7999374493083,254.8340294661357L520.9405526303162,253.74516392721853L518.8598907456326,253.33790767562095L518.9083688636165,254.72018266709347L517.4022691963328,256.3025982474974L517.9909632768249,256.8183626507089L519.4473100446776,260.733280398792L519.5179693601385,264.4823986696247L516.2786768131919,267.3073028489962L515.305290108925,268.3262068695585L512.1254388005618,266.61573546346335L509.34306435294275,264.2446851341665L506.97539452703495,263.006765007176L504.9739876271342,264.42686586047785L503.4138008034206,264.5301836965773L499.95735833949584,263.2549562372078L498.23826090060174,261.76437120918126L495.105685773422,259.71564076937284L493.33683543503867,258.0095236686866L491.2061292723083,258.3951610593722L488.5441670396249,257.60418941910757L484.7461924100935,258.9438119808219L480.49552467121975,259.058173394802L477.61113128408033,260.037122516409L478.5408840399177,264.6861774116842L477.3960938621167,266.57833926862077L474.32000976499694,266.94905440114235L471.57147165969945,265.9568418926028L469.83365314443654,263.06649716980974L468.5613848201465,262.487699666548L466.684214479581,263.141032470503L462.49648452273686,263.85344343489123L462.8384537562815,263.62711207405664L462.45878741372144,263.8597628726711L461.8950790499366,264.0560547993664L461.83425376289233,264.07496978937706L462.44447343898355,259.7030446545359L466.16308381674753,254.3760875031585L467.65468739764765,253.44197288775467L469.4161075811862,251.46129546001248L470.1999889151193,247.37142176206908L471.4237426990876,244.69565773747672L473.6755895233364,242.06147009712367L475.5582232130255,237.70659143540615L479.5945455541514,232.0796203386526L479.7270864041784,229.61288202234937L478.3583353341528,226.09952232001888L478.2971458238462,225.95845016556996L477.36677388843964,223.59981368293302L475.970014048522,224.20066052564653L475.147743581314,223.5301851896911L475.03177489034715,222.5858655984157L473.3246603972075,218.9498398633259L470.59797568844806,220.36896572721525L470.5489876578795,220.43201442409918L468.77288927632617,222.62812807507726L467.9708332009468,222.3144933054282L466.43625127349515,222.96029492923117L465.33389310730854,224.0610579211716L464.0578732832655,222.96951816201545L464.264715681551,220.70447440570933L466.02810267078166,215.5220210669322L466.1543788804411,210.6747107231131L466.8898185187136,208.2858300104599L467.5913853923412,203.84935231503187L467.2155798164895,201.14716953527022L467.19569322562893,201.1544891016856L467.19274301709083,201.15557187775994L466.34781786217354,201.75850306611028L466.51648966112407,196.71522486709364L467.3958339156088,193.58988491233322L468.5598550823779,192.12342405241725L468.9439649489068,188.54766564582314L468.73216911411146,187.738379677372L469.3392564700189,184.79638368925953L469.3279291261424,184.72023033470396L469.14512546408514,183.3217792762698L470.397434352868,180.98392270330442L471.86547268783033,179.59633587590724L471.7238262559258,177.56528037929456L472.5304351222585,177.09797232609708L476.42915390984854,176.24427494560587L476.53354030064656,176.11608540856105L478.37388766802906,173.9538638955055L480.0958988931379,172.90059242320422L480.64106829217053,171.02558390254126L480.733289625583,171.00838421064327L482.27104029551265,169.10725836970232L482.3230878016184,169.01280984029654L484.0298380714812,166.82313850795617L484.1001695860323,166.7309840883463L484.13677402521716,166.70598496684397L484.0691013406031,168.36041933699016L486.01343445318344,167.93565700876934L485.3742226043687,169.38722407987734L486.10805966021144,170.61863926189835L486.19270514948585,170.72231434013884L486.9860927109112,172.95803915584838L486.2699933285767,173.98605279125331L487.31640679962584,174.27505922032287L489.5917824474891,173.4424359644363L491.4531090755481,174.14812350647117ZM472.062153256702,201.7158419390471L471.92291069841303,201.6237631395452L472.062153256702,201.7158419390471ZM482.9141857557406,173.95750301751104L482.9755573776929,174.0395565182189L482.9141857557406,173.95750301751104ZM484.24276299844496,171.5681741662811L484.17053752287757,171.69909896861645L484.24276299844496,171.5681741662811ZM476.9782933425886,203.72167473538502L476.58547853975324,203.65861546333326L476.9698797849269,203.7506923814908Z" />
					<path data-name="復興區"
						:class="{ 'active-district': targetDistrict === '復興區' || selectedIndex === 11, 'initial-animation-12': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(11)" :fill-opacity="districtData['復興區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M515.305290108925,268.3262068695585L516.2786768131919,267.3073028489962L519.5179693601385,264.4823986696247L519.4473100446776,260.733280398792L517.9909632768249,256.8183626507089L517.4022691963328,256.3025982474974L518.9083688636165,254.72018266709347L518.8598907456326,253.33790767562095L520.9405526303162,253.74516392721853L521.7999374493083,254.8340294661357L522.214860604945,253.62096999340065L523.9136343850696,253.10947463117918L523.4169066816976,251.5090001405697L524.0412946432043,250.87485502417258L526.7008530022431,250.7885358265812L526.4000409988657,250.22269735232112L527.9777105398098,248.79486193130288L525.6899148782686,248.5181929170467L526.3989119067119,245.9205144210282L525.6895142326684,244.4869461661292L527.1450232869538,239.64420428012818L526.8602735300374,237.5620720812949L527.6260893894796,237.77885103395238L527.6244503847411,235.34104564240624L529.6772856111347,234.87877116806703L529.7863704822084,235.6884969488019L532.4073211740324,236.1172566870082L534.536024108791,235.09248191533334L537.6482755771722,234.10895840050216L541.2668702434457,235.26324236157598L543.5898862957401,235.66927350628612L545.7278040793608,239.24130651826272L547.3865497214865,240.32366303521485L550.3863290423615,240.35799519181091L552.6881837223627,241.46241929770258L554.8431835775846,241.98020859297685L556.7214830103039,242.90036029703333L556.7449754115951,243.9250981613477L557.3043495183811,244.26931594203052L560.4320804759918,243.3004725481951L562.6423330021644,241.68360570586083L564.4198154321493,241.28400649412652L565.2986861963873,240.45099068393392L565.6590487053327,238.20253627870989L567.8813205995975,236.91155921477548L568.6487026191462,237.08422154592336L571.966885927628,235.6487511784253L574.6104184625292,235.862503571876L575.1292180964228,237.4206264831555L577.4445126153005,237.29065395078942L578.5779754492105,235.97407720356568L583.0026690692175,238.30272073426386L584.1519027710019,239.91202258842168L588.043774160993,242.48353531062094L586.7304214512114,245.3343011782199L588.3636350416928,247.92654030143603L588.4535617684742,249.39728863229539L589.4668309214176,250.74173988134135L590.7728991656913,250.46615850436865L593.8126702022273,250.5613090563529L594.9147734121216,252.71429332051048L595.1358933627926,254.94359065471508L596.5006743991107,255.9833554124598L596.8741489459935,257.0900739718818L598.5335501900117,259.0680858654632L600.2087951465364,260.22485144892926L603.2503872994421,261.2617476916748L603.8540509565646,264.4902329917204L603.6704095809691,266.70753786854766L604.3454610001208,267.70736057948307L604.4335301881656,270.2042767139683L603.7330195620598,272.55557973847317L604.5896362841304,274.8448951167702L607.1023033961101,276.47390565470414L607.818730579369,277.4979961084973L610.0325889159722,279.0388509719269L611.1934413402341,279.09796766938234L612.7905239817919,278.2919695089622L613.5305892556353,278.64970123870444L612.3252651694202,280.56059710888803L612.8239961008221,282.420261213716L611.3697254056751,283.81485676333614L610.3259343422105,285.7089932735071L608.8297415480192,286.68975847010006L607.6793787540955,286.782191545306L606.2780661232391,287.8953629365278L604.4672936858406,291.3190099656349L602.7534046397777,292.8728062963455L599.5901983351068,293.6970770553489L595.1993046350981,297.7036224682488L593.733961552367,300.8211173182135L593.8261828857649,301.9627321799999L595.5562798675965,303.0724030902711L595.2685434797895,304.0729005971443L596.0251444903843,306.41605222471117L597.4366189506254,308.5855721256121L597.9709709184099,311.4109611240019L597.6275812140811,313.0627812449857L598.6578595940227,314.9525570548176L598.8115253940196,316.63672122218486L599.9978370252647,317.617053520582L600.8007672364911,320.07283874849963L600.5765513879887,321.3906441290892L601.1253265974665,322.57069746158595L602.4640656695847,325.1391330878869L601.6710423314216,327.456270534145L603.1823868138599,328.5111565614934L604.6283896406676,330.2200942038289L606.561176875417,330.6289407127151L606.9798515308357,332.9989805033947L609.6237482890137,339.72720387754816L612.2878594390058,341.8160329459897L612.5268263301841,344.74787176918835L613.4317390586366,347.1399800979889L614.8409189122467,347.5100509522417L617.9337208577199,349.0139335788008L620.8062405660603,349.5449621462176L623.1524940633826,350.80019196108697L625.5903132921812,353.45608104539497L627.6703559973103,354.6931856880583L628.2382165064191,354.2459927375312L630.8981755110726,354.7679987420488L631.1905739568028,357.53716684095707L630.0242581834027,359.93943478802976L630.8706766537507,363.86346655286616L631.8177300151874,365.087427608556L632.1905125378398,368.3808404381962L634.5357826323161,371.3835040664562L635.1116196311632,372.68135162132967L632.5148897871695,372.7515249307471L629.5426093236165,373.24680096016164L627.5849820614676,374.21373875660356L625.6161731447501,373.8448905286168L621.3165537976456,373.59814064105376L620.1187327108782,373.23802393786536L616.8508486367937,377.5055551412115L616.0289788152149,380.28334794242255L612.874477446836,382.03982448944953L611.5273612393939,385.14259283292995L611.6591007981915,387.7671392450029L612.6928757215646,389.6841258276472L614.1804000018019,391.0265220652582L611.9810377515678,395.35999692782934L610.2325474943354,396.476285898716L609.5057399477082,397.5516273618414L609.9437912813592,400.0106869307019L609.5301429071696,402.0999909116035L606.2583616440097,403.8699608409552L602.755444290131,410.652388712846L602.0821047203644,412.43158678414693L602.7019398909324,414.76974559254813L601.8691069487395,416.6637872583415L601.1917973452801,416.89621277841434L600.190875361368,419.81427856734445L598.9946932793682,420.4340881631797L596.9424408102059,427.21055943814645L594.5717843534221,429.60113711273516L591.3149726668926,431.0053119698423L589.6770241738268,431.25109997205436L588.5372966995346,430.3151319027493L587.7810599122458,430.53309311136036L585.7992118022667,429.331189327655L585.2658796596806,431.7195560689688L582.7967372291605,432.9263141695774L581.585549148178,434.96718760971635L578.828888863849,438.7774188533149L573.4860247881734,441.0088050871418L572.6571618796879,442.20646482929806L570.2610097936267,442.9999999999418L567.5067533828842,442.96880484449866L564.1984769475093,440.60036438530005L559.6747510188579,438.339025560399L556.6936927743664,437.1369124962075L556.0997538787051,434.644278564836L552.7125866818242,433.0967810347611L551.7099892708356,431.5327097143927L549.7802979339467,429.5905933037466L550.5044466506515,427.391709663214L550.0427936487104,425.76912441543027L548.2398520117567,423.9946133218473L548.1775334092818,422.08882538106263L546.9738119054964,420.97524079057985L546.5079339135555,418.12933830067414L548.7300236961601,415.43232928946964L549.5832167194749,415.47654171792965L549.7393228154251,413.59963572162087L551.2779840435687,409.3282344999061L551.5861169347772,406.5704783778565L553.9894442193909,405.2422939148564L551.5861169347772,406.5704783778565L548.0662267762382,404.92140738046146L545.9531490200316,405.12714832581696L545.4393392450147,404.06321240479883L545.4339851628611,401.85672512961173L544.365244805027,399.0759410227656L542.9008851251274,398.3316393246387L541.7816634212795,397.07462620723527L541.6621617645287,395.8219200527237L542.2341015743295,392.85526113369997L541.6545859203907,389.6636782790338L542.5891464234737,387.3258865005009L542.1222121840547,386.874948142824L542.82152087336,384.59458960963093L542.2971850456815,383.6564146390374L542.6916024309321,379.70518426475974L542.6027319516579,377.55250804395837L541.0170859209611,378.94426685125654L539.6599535734422,377.6283849260435L538.7813741878199,377.532576842088L536.9243453944218,378.6037112070444L536.2666310031927,378.40790307807765L535.6667916904698,376.33872954411345L534.5080881835311,376.7041098047921L533.0163024909853,378.6479830737626L532.0560642469645,378.4023690825852L532.6002138208423,375.6726021517461L531.9777562427043,368.47791117638553L529.6043316890282,364.6879749913751L524.9612497929338,358.6136172783881L522.9150798524497,356.85301178468944L521.135229971158,355.67798912746366L518.8395306645252,355.2141082569906L517.6538746352016,354.56323571307075L516.7550444354565,353.24820168532096L513.1163446443825,353.512386135968L508.4467472938122,356.39960135307047L506.31320018951374,357.3324094646159L504.05712837526517,356.49279174263575L503.0816655983217,355.1992754501953L503.7192020200746,352.92641379209454L505.112829539823,350.0940649566037L505.0518221411621,348.5089370306923L505.67679285990016,347.0253733276004L505.85701053671073,344.8764505028921L507.5975607265573,342.4558297790936L508.1438592177583,341.09652153648494L509.0291767339513,335.60395692394013L507.59384564914217,332.2596386078076L507.3249031823798,330.6175214084142L506.2905819240841,330.25772614645393L503.9451297179912,327.7423240900607L502.4847036494757,326.9023719797551L502.08227335217816,324.87158627718964L503.6047994891851,321.2563683279441L504.0808757328341,318.29831846648085L504.5859077269124,317.29636249239775L507.3242475804873,314.3624656046086L507.19294508959865,311.20528747184653L509.06982405153394,307.2378318330957L507.5515229044977,306.4675380358749L506.24647448539326,304.99711015036155L504.30079374669003,300.667559714715L505.61312663131685,296.60778156272863L504.30079374669003,300.667559714715L502.4304343814001,300.95771372603485L498.97639579110546,300.0569614683409L498.0773470573913,297.2610644573906L494.82355842406105,296.4454337409152L491.9722365103662,294.96326209850304L486.94442556817376,294.5138552171011L484.11291740064917,291.5585630737587L482.4657176363835,291.37673470131267L482.3696719585714,288.91505236666126L479.92056180821965,287.24024463881506L478.60797396731505,287.36915688824956L477.90356615213386,286.212921880513L476.5909418888914,286.2770974065861L474.25594289081346,285.6629060736341L473.0988783886278,283.1077378865011L473.17948099953355,282.02844153618935L474.5176373143913,280.82393478077574L475.08524286720785,278.88707756292206L474.01635682008055,276.1779678289495L472.5870718416263,276.86397270195084L470.32102030962415,276.042073301207L467.68291470152326,275.5228160119259L467.1564663788304,274.5793344521844L465.308178944033,273.8135497964613L464.43171205345425,270.9365031738562L465.09459841517673,270.2112449660053L465.01559838670073,268.2747014146771L463.53921933869424,265.4795168169403L461.8950790499366,264.0560547993664L462.45878741372144,263.8597628726711L462.49648452273686,263.85344343489123L466.684214479581,263.141032470503L468.5613848201465,262.487699666548L469.83365314443654,263.06649716980974L471.57147165969945,265.9568418926028L474.32000976499694,266.94905440114235L477.3960938621167,266.57833926862077L478.5408840399177,264.6861774116842L477.61113128408033,260.037122516409L480.49552467121975,259.058173394802L484.7461924100935,258.9438119808219L488.5441670396249,257.60418941910757L491.2061292723083,258.3951610593722L493.33683543503867,258.0095236686866L495.105685773422,259.71564076937284L498.23826090060174,261.76437120918126L499.95735833949584,263.2549562372078L503.4138008034206,264.5301836965773L504.9739876271342,264.42686586047785L506.97539452703495,263.006765007176L509.34306435294275,264.2446851341665L512.1254388005618,266.61573546346335Z" />
					<path data-name="蘆竹區"
						:class="{ 'active-district': targetDistrict === '蘆竹區' || selectedIndex === 12, 'initial-animation-13': true }"
						@mouseenter="toggleActive" @mousemove="updateMouseLocation" @mouseleave="toggleActiveToNull"
						@click="handleDataSelection(12)" :fill-opacity="districtData['蘆竹區'] / districtData.highest"
						:fill="districtColor"
						stroke="#282a2c" 
      					stroke-width="1"
						d="M465.129163204052,71.57635993822623L464.22508818913775,70.81425807486085L465.6658462007763,69.5778737717119L463.8094730092562,66.3695516513435L463.5596886867861,65.16143270702742L465.86758947318594,63.91617347654392L467.673954808939,63.56113814326454L466.1921124118235,61.256196613117936L466.6973265175038,60.36702061847609L468.47160378268745,59.71426207005425L470.19157535744307,60.72826966089269L471.9963381107955,59.51119039279001L472.0707853483327,59.43472395263234L475.8905405297555,56.2042990035261L475.68165848114586,55.122146598918334L475.96720952927717,54.10543564899854L477.16073278138356,53.686646593658224L478.08236335818947,51.613495370165765L478.24262159946375,50.66697536815991L479.7372118112544,51.02739230607767L482.17954740866844,50.02699241006121L483.7155498068896,47.48705987210269L483.4980356666638,45.21458175003136L484.19326505527715,45.32172822581924L483.4809535950335,45.182698059710674L482.26299096114235,44.24531296941859L479.61709097491985,43.479747022123775L478.1223186515126,41.91771035160127L477.2181707919517,38.99502867324554L477.1206682210468,38.87212769418693L476.9500660387275,38.65573830638823L475.7597479514661,36.55632885799059L472.80385753532755,34.31127838454995L472.53870299061236,33.66190530247695L472.1034561761626,32.187958340382465L472.0797816632403,32.07997331193474L471.8666382023366,31.2746589841081L471.86281385792245,31.194699876516097L470.84178674918076,29.258654504017613L470.81341375601187,29.21223129381542L470.81111914938083,29.213229176137247L469.9350164820644,27.529874144176574L469.93246691912645,27.513430497525405L468.76331020417274,18.4665367291891L465.9991833426757,15.118524249588518L465.7181850854977,13.295940687607072L466.75214212050196,11.770701987945358L469.14782071631635,12.285004574940103L472.460868476599,11.237216537268978L474.0397035320493,10.000000000061846L475.3928294235375,10.981191098311683L476.9960310161114,11.324221641178156L480.796591630904,12.986112889491778L485.03673331711616,13.74362712027505L488.6666917495604,14.689329287513829L491.3068370080291,14.688765184127988L491.60903305985266,19.282152267991478L490.79543110664235,20.94590550580324L493.7525598819193,23.389850215346087L496.3835267138202,23.618204918206175L497.5358198911126,26.96749119769811L500.16780654818285,26.637097316379368L502.21842001263576,25.44576112836876L504.35254987416556,27.722121429917024L504.47627652091614,30.30343128126333L504.9925994365185,31.10562977974041L506.64850413709064,31.99693452358406L507.29951682005776,31.714411226708762L511.05309263228264,31.85983793863852L516.798459849917,34.721255851971364L519.0735805414879,35.067501105695555L521.5381337587314,35.036004594727274L523.9763536331448,36.35620304525219L525.4929065084434,38.56034115033617L527.8860719636577,39.8834858469927L531.7426865405723,42.29425333092877L533.8201796827489,41.947946632280946L537.615021992111,42.37385641536457L539.4914638861228,43.29464471002575L540.1779883384443,44.284918526052934L534.5221472019766,45.151768701329274L538.5079881971033,45.90769159491538L535.8962887764646,46.86171824670237L535.9876359740156,48.40905850188574L537.2021749091073,48.82479009889721L535.4328510804917,49.20681570464512L533.8308514247328,47.946086564250436L533.1615911556582,48.18770153466539L533.1018949607824,50.00790650520503L534.6755580456957,50.71573084735428L538.5916502835171,50.2179380097441L540.0310606690473,48.04780784009563L539.9539181792497,50.44514630972844L541.3172787447984,49.701707360170985L539.7195040790102,52.25398857428081L537.432582553316,53.06017302679538L539.2772277553449,53.389784588031034L541.7143549599277,54.99488480222499L542.789214268807,54.44610438151358L543.6677936544002,55.53997533434085L543.6148355901387,57.040119063134625L538.6891164320987,56.657776720770926L535.5115233080433,56.9044885454241L532.9565334514482,58.2186697338002L532.7276555449935,58.347879186228965L529.7074068760412,59.158871754469146L528.728156177036,59.357043010477355L524.1548594605702,61.25181602808152L521.8280554861703,62.57812687572368L520.8744461057795,63.25190159022168L520.693427137754,64.39164819248617L519.5982077477674,66.17460381763158L518.6277712520387,66.26702518557795L514.85678556723,68.62064002991247L511.889349273275,68.39473116964291L509.3025991470204,68.77520667043791L508.9041024610924,70.167206305734L505.905634344017,71.37235851223522L502.7725857265759,70.48106163647753L502.61476778122596,70.4092440612003L501.46232891464024,70.21859763640168L500.33604127922445,69.77563384757741L500.2950297383941,69.76804437827741L500.1726142954285,69.75585785777366L498.7835031443101,69.61530076376584L500.1978549684427,70.85988113647181L501.95293766696705,75.28738647417777L504.2708910157671,79.59279742629224L505.29974892492464,83.05462263739173L500.79576389779686,83.67318788385819L499.32408333006606,84.91030678731113L497.93304179556435,86.55877731893997L496.3676101566816,87.2061989530157L495.1992183106049,88.52140881631567L494.15859598964744,87.98881423181592L493.8845543970092,86.6262904416435L492.8264857811446,86.83867246332375L491.9082424808439,83.88297450479877L488.37389265823003,85.06961778663026L487.02950812537165,85.20538316382954L487.73726679467654,87.88266787129032L486.3718301564659,89.0174480912683L484.9222579415509,88.89261466494645L485.12680573319085,90.5848985317316L482.53400950056675,92.25352308516085L483.0244725636003,95.29117665243393L483.6849550517218,95.7229702904915L484.618058661712,99.39658701287408L486.7198090740567,103.29975585030115L488.425685208058,107.94057616917416L489.07240005636413,109.15263866078385L488.211266965649,109.53590552605237L485.5394707045343,113.11424863911816L484.63419375281956,116.06248613497155L485.0714073729614,117.61620133884571L484.60516515775817,118.89914783867789L484.4855906563462,119.3032268189927L483.8076254509797,117.5979520561923L482.41173974692356,117.31844718403954L482.25807394692674,117.28567639992616L482.41203112555377,117.3201377400801L480.3158169070084,118.65610147178813L480.0369675671391,117.91581853510434L477.49916904914426,118.0992209180913L474.0635237342649,120.25216875348633L471.9845008543198,115.06872505355204L471.8273385108623,113.05351607150078L470.8793745912553,111.23759078422881L469.87987307809817,107.4525216424081L467.84503048151964,105.34299558366547L465.1320041456056,101.19777183895349L464.09648095050943,98.4820434278663L462.8718530306651,97.22367593045419L462.8838723987574,97.20520611215034L462.8597608179116,97.21435430897327L462.1562999832531,95.73190183900078L459.4197448237246,91.88471455821127L458.6429658436682,91.46669232372733L458.5548602332856,91.41930103906998L457.6791582115693,88.84075606439728L457.6284219092486,88.74401975619185L455.9555444040452,86.43871051501264L455.9215987947391,86.41672643654965L453.99143396757427,85.31140230855817L453.8441420748859,84.663881565888L455.74382141388196,83.73289776313686L455.39871986016806,80.77003885398881L455.76035715060425,80.23120156110235L455.8092359142029,80.19499276938586L457.77727996202884,78.26242144779098L457.1788975423988,75.5249450260053L459.62309067853494,73.56760687970018L461.87639439587656,72.273968780406L462.7892471917439,72.76510223191508ZM497.315391964672,70.81603616035864L497.53931643454416,71.25652333171092L497.315391964672,70.81603616035864ZM497.2440406249516,70.68723329916611L497.2936842574418,70.76932887955627L497.2440406249516,70.68723329916611ZM482.7859427403746,98.30055577190069L482.9894707068306,98.48191336037416L482.7859427403746,98.30055577190069ZM494.02281355248124,64.1451285209514L494.02725707645004,64.15111369970327L493.92450969036145,64.01306415858198ZM479.2000189019309,54.05854697806717L479.13675331894774,53.97461576787828L479.2000189019309,54.05854697806717ZM477.0280826643866,92.79242505833099L476.62474180888967,92.52772218651444L477.0280826643866,92.79242505833099ZM479.8436014300678,95.35608239325302L479.86527271498926,95.37802113103317L479.5459217468597,95.0549228654636L478.6790703507286,94.19145795899749L478.2446248274937,93.757012815895L478.6790703507286,94.19145795899749L479.5459217468597,95.0549228654636ZM474.6418374513887,95.93520274253387L474.68532571051037,95.40819772686154L474.6418374513887,95.93520274253387ZM475.261927578249,91.62573262661681L475.4399599153985,91.74202093076747L475.2273263670504,91.60314267548529ZM496.9424273303739,70.09434766460981L497.0751138696942,70.33152836549198L497.16937485344533,70.53947843010974Z" />
					</g>
			</svg>
			<Teleport to="body">
				<!-- The class "chart-tooltip" could be edited in /assets/styles/chartStyles.css -->
				<div v-if="targetDistrict" class="districtchart-chart-info chart-tooltip" :style="tooltipPosition">
					<h6>{{ targetDistrict }}</h6>
					<span>{{ districtData[targetDistrict] }} {{ chart_config.unit }}</span>
				</div>
			</Teleport>
		</div>
	</div>
</template>

<style scoped lang="scss">
.districtchart {
	max-height: 100%;
	position: relative;
	overflow-y: scroll;

	&-title {
		display: flex;
		flex-direction: column;
		justify-content: center;
		position: absolute;
		left: 0;
		top: 0;
		margin: 0.5rem 0 -0.5rem;

		h5 {
			color: var(--color-complement-text);
		}

		h6 {
			color: var(--color-complement-text);
			font-size: var(--font-m);
			font-weight: 400;
		}

		&-legend {
			display: flex;
			justify-content: space-between;

			div {
				position: relative;
				width: 3rem;
				margin: 0 4px;
				border-radius: 5px;
			}

			div:before {
				content: "";
				width: 3rem;
				height: var(--font-l);
				position: absolute;
				top: 0;
				left: 0;
				background: linear-gradient(270deg, rgba(40, 42, 44, 1), rgba(40, 42, 44, 0.2));
			}

			p {
				color: var(--color-complement-text)
			}
		}
	}

	&-chart {
		display: flex;
		justify-content: center;

		svg {
			width: 50%;

			path {
				transition: transform 0.2s;
				opacity: 0;
			}
		}

		&-info {
			position: fixed;
			z-index: 20;
		}
	}

}

.active-district {
	transform: translateY(-10px);
}

@keyframes ease-in {
	0% {
		opacity: 0
	}

	;

	100% {
		opacity: 1
	}
}

@for $i from 1 through 13 {
	.initial-animation-#{$i} {
		animation-name: ease-in;
		animation-duration: 0.2s;
		animation-delay: 0.05s * ($i - 1);
		animation-timing-function: linear;
		animation-fill-mode: forwards;
	}
}
</style>